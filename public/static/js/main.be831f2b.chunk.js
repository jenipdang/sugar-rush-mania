(this["webpackJsonpsugar-rush-mania"]=this["webpackJsonpsugar-rush-mania"]||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(33),s=n.n(i),a=n(17),o=n(4),d=n(15),l=n(97),j=n(35),u=n(63),b=n(62),h=n(1),O=r.a.createContext();function x(e){var t=e.children,n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(h.jsx)(O.Provider,{value:{message:i,setMessage:s},children:t})}var p=r.a.createContext();function m(e){var t=e.children,n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(h.jsx)(p.Provider,{value:{user:i,setUser:s,onLogin:function(e){s(e)}},children:t})}var f=n(72);var g,v,y,w,S,C,N,k,T=function(e){var t=e.cart,n=Object(c.useContext)(p),r=n.user,i=n.setUser,s=Object(c.useContext)(O).setMessage,a=Object(d.f)();return Object(h.jsx)(u.a,{className:"navbar sticky-top mb-5",style:{background:"linear-gradient(to right, #ddd6f3, #faaca8)"},expand:"lg",children:Object(h.jsxs)(l.a,{fluid:!0,children:[Object(h.jsx)(u.a.Brand,{}),Object(h.jsx)(u.a.Toggle,{"aria-controls":"navbarScroll"}),Object(h.jsxs)(u.a.Collapse,{id:"navbarScroll",children:[Object(h.jsxs)(j.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(h.jsx)(j.a.Link,{href:"/home",children:"Home"}),Object(h.jsx)(j.a.Link,{href:"/products",children:"Products"}),Object(h.jsx)(j.a.Link,{href:"/about",children:"About"}),Object(h.jsx)(j.a.Link,{href:"/contact",children:"Contact Us"})]}),Object(h.jsxs)(j.a,{className:"d-flex",style:{paddingRight:"30px"},children:[r?null:Object(h.jsx)(j.a.Link,{href:"/account",children:"Sign In/Sign Up To Order"}),r?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(j.a.Link,{href:"/cart",children:[(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.length:null,Object(h.jsx)(f.b,{style:{fontSize:"23px"}})]}),Object(h.jsxs)(b.a,{title:r.username,id:"navbarScrollingDropdown",style:{marginRight:"40px"},children:[Object(h.jsx)(b.a.Item,{href:"/profile",children:"Profile"}),"admin"===r.role?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(b.a.Item,{href:"/products/new",children:"New Product"})}):null,Object(h.jsx)(b.a.Item,{onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&(s({message:"Successfuly logged out",color:"green"}),i(null),a.push("/products"))}))},children:"Log Out"})]})]}):null]})]})]})})},E=n(5),_=n(6),F=_.a.div(g||(g=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10px;\n"]))),P=_.a.form(v||(v=Object(E.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0px 0px 2.5px rgba(15, 15, 15, 0.19);\n"]))),A=_.a.a(y||(y=Object(E.a)(["\n  font-size: 11px;\n  color: rgba(200, 200, 200, 100);\n  font-weight: 500;\n  text-decoration: none;\n"]))),D=_.a.a(w||(w=Object(E.a)(["\n  font-size: 11px;\n  color: rgb(241, 196, 15);\n  font-weight: 500;\n  text-decoration: none;\n  margin: 0 4px;\n"]))),I=_.a.input(S||(S=Object(E.a)(["\n  width: 100%;\n  height: 42px;\n  outline: none;\n  border: 1px solid rgba(200, 200, 200, 0.3);\n  padding: 0px 10px;\n  border-bottom: 1.4px solid transparent;\n  transition: all 200ms ease-in-out;\n  font-size: 12px;\n  &::placeholder {\n    color: rgba(200, 200, 200, 1);\n  }\n  &:not(:last-of-type) {\n    border-bottom: 1.5px solid rgba(200, 200, 200, 0.4);\n  }\n  &:focus {\n    outline: none;\n    border-bottom: 2px solid rgb(241, 196, 15);\n  }\n"]))),L=_.a.button(C||(C=Object(E.a)(["\n  width: 100%;\n  padding: 11px 40%;\n  color: #fff;\n  font-size: 15px;\n  font-weight: 600;\n  border: none;\n  border-radius: 100px 100px 100px 100px;\n  cursor: pointer;\n  transition: all, 240ms ease-in-out;\n  background: #EECDA3;  /* fallback for old browsers */\n  background: -webkit-linear-gradient(to right, #EF629F, #EECDA3);  /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(to right, #EF629F, #EECDA3); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n  &:hover {\n    filter: brightness(1.03);\n  }\n"]))),R=n(3),M=_.a.span(N||(N=Object(E.a)(["\n  display: flex;\n  width: ",";\n"])),(function(e){var t=e.margin;return"string"===typeof t?t:"".concat(t,"px")})),U=_.a.span(k||(k=Object(E.a)(["\n  display: flex;\n  height: ",";\n"])),(function(e){var t=e.margin;return"string"===typeof t?t:"".concat(t,"px")}));function z(e){return"horizontal"===e.direction?Object(h.jsx)(M,Object(R.a)({},e)):Object(h.jsx)(U,Object(R.a)({},e))}z.defaultProps={direction:"horizontal"};var B,J,H,q,W=Object(c.createContext)(),G=(_.a.div(B||(B=Object(E.a)(["\n  border-radius: 6px;\n  box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%),\n    0 0 0 1px rgb(10 10 10 / 2%);\n  padding: 16px;\n"]))),n(7)),V=["variant","color"],Y={primary:{"--main":"black","--accent":"white"},secondary:{"--main":"lavenderblush","--accent":"indigo"}};var $,K,X,Q,Z,ee,te,ne=_.a.button(J||(J=Object(E.a)(["\n  cursor: pointer;\n  font-size: 1rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n"]))),ce=Object(_.a)(ne)(H||(H=Object(E.a)(["\n  background-color: var(--main);\n  color: var(--accent);\n\n  &:hover {\n    opacity: 0.9;\n  }\n"]))),re=Object(_.a)(ne)(q||(q=Object(E.a)(["\n  background-color: white;\n  color: var(--main);\n  border: 2px solid var(--main);\n\n  &:hover {\n    background: hsl(235deg 85% 97%);\n  }\n"]))),ie=function(e){var t,n=e.variant,c=void 0===n?"fill":n,r=e.color,i=void 0===r?"primary":r,s=Object(G.a)(e,V);return"fill"===c?t=ce:"outline"===c&&(t=re),Object(h.jsx)(t,Object(R.a)({style:Y[i]},s))},se=_.a.div($||($=Object(E.a)(["\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),ae=_.a.input(K||(K=Object(E.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n"]))),oe=_.a.label(X||(X=Object(E.a)(["\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n"]))),de=_.a.textarea(Q||(Q=Object(E.a)(["\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n"])));var le=_.a.div(Z||(Z=Object(E.a)(["\n  color: red;\n  background-color: mistyrose;\n  border-radius: 6px;\n  display: flex;\n  padding: 8px;\n  align-items: center;\n  gap: 8px;\n  margin: 8px 0;\n"]))),je=_.a.span(ee||(ee=Object(E.a)(["\n  background-color: white;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  font-weight: bold;\n  display: grid;\n  place-content: center;\n"]))),ue=_.a.p(te||(te=Object(E.a)(["\n  margin: 0;\n"]))),be=function(e){var t=e.children;return Object(h.jsxs)(le,{children:[Object(h.jsx)(je,{children:"!"}),Object(h.jsx)(ue,{children:t})]})};function he(){var e=Object(c.useContext)(W).switchToSignup,t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),l=a[0],j=a[1],u=Object(c.useState)(!1),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(d.f)(),g=Object(c.useContext)(O).setMessage,v=Object(c.useState)([]),y=Object(o.a)(v,2),w=y[0],S=y[1],C=Object(c.useContext)(p).onLogin;return Object(h.jsx)(F,{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(!0),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:l})}).then((function(e){m(!1),200===e.status?e.json().then((function(e){C(e),g({message:"User successfully logged in.",color:"green"}),f.push("/products")})):e.json().then((function(e){return S(e.errors)}))}))},children:[Object(h.jsxs)(P,{children:[Object(h.jsx)(I,{id:"username",value:r,type:"username",placeholder:"Username",onChange:function(e){return i(e.target.value)}}),Object(h.jsx)(I,{id:"password",value:l,type:"password",placeholder:"Password",onChange:function(e){return j(e.target.value)}})]}),Object(h.jsx)(z,{direction:"vertical",margin:10}),Object(h.jsx)(z,{direction:"vertical",margin:"1.6em"}),Object(h.jsx)(L,{type:"submit",children:x?"Loading":"Signin"}),Object(h.jsx)(se,{children:null===w||void 0===w?void 0:w.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(z,{direction:"vertical",margin:"1em"}),Object(h.jsxs)(A,{children:["Don't have an accoun?"," ",Object(h.jsx)(D,{onClick:e,children:"Signup"})]})]})})}var Oe,xe,pe,me,fe,ge,ve,ye,we=n(100);function Se(){var e=Object(c.useContext)(W).switchToSignin,t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(""),a=Object(o.a)(s,2),l=a[0],j=a[1],u=Object(c.useState)(""),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(!1),S=Object(o.a)(w,2),C=S[0],N=S[1],k=Object(c.useContext)(p).onLogin,T=Object(c.useContext)(O).setMessage,E=Object(c.useState)([]),_=Object(o.a)(E,2),R=_[0],M=_[1],U=Object(d.f)();return Object(h.jsx)(F,{children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N(!0),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,email:l,password:x,password_confirmation:v})}).then((function(e){N(!1),e.ok?e.json().then((function(e){k(e),T({message:"Successfully create an account.",color:"green"}),U.push("/products")})):e.json().then((function(e){return M(e.errors)}))}))},children:[Object(h.jsxs)(P,{children:[Object(h.jsx)(I,{id:"username",type:"text",placeholder:"Username",onChange:function(e){return i(e.target.value)}}),Object(h.jsx)(I,{id:"email",type:"email",placeholder:"Email",onChange:function(e){return j(e.target.value)}}),Object(h.jsx)(I,{id:"password",type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),Object(h.jsx)(I,{id:"password_confirmation",type:"password",placeholder:"Password Confirmation",onChange:function(e){return y(e.target.value)}})]}),Object(h.jsx)(z,{direction:"vertical",margin:10}),Object(h.jsx)(L,{type:"submit",children:C?"Loading":"Signup"}),Object(h.jsx)(se,{children:null===R||void 0===R?void 0:R.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(z,{direction:"vertical",margin:"1em"}),Object(h.jsxs)(A,{children:["Already have an account?",Object(h.jsx)(D,{onClick:e,children:"Signin"})]})]})})}var Ce=_.a.div(Oe||(Oe=Object(E.a)(["\n  width: 100%;\n  height: 100%;\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Ne=_.a.div(xe||(xe=Object(E.a)(["\n\twidth: 280px;\n\tmin-height: 550px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 19px;\n\tbackground-color: #fff;\n\tbox-shadow: 0 0 2px rgba(15, 15, 15, 0.28);\n\tposition: relative;\n\toverflow: hidden;\n"]))),ke=_.a.div(pe||(pe=Object(E.a)(["\n\twidth: 100%;\n\theight: 250px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\tpadding: 0 1.8em;\n\tpadding-bottom: 5em;\n"]))),Te=Object(_.a)(we.motion.div)(me||(me=Object(E.a)(["\n\twidth: 160%;\n\theight: 550px;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 50%;\n\ttransform: rotate(60deg);\n\ttop: -290px;\n\tleft: -70px;\n\tbackground: #EECDA3;  /* fallback for old browsers */\n  \tbackground: -webkit-linear-gradient(to right, #EF629F, #EECDA3);  /* Chrome 10-25, Safari 5.1-6 */\n  \tbackground: linear-gradient(to right, #EF629F, #EECDA3); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n"]))),Ee=_.a.div(fe||(fe=Object(E.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n"]))),_e=_.a.h2(ge||(ge=Object(E.a)(["\n\tfont-size: 30px;\n\tfont-weight: 600;\n\tline-height: 1.24;\n\tcolor: #fff;\n\tz-index: 10;\n\tmargin: 0;\n"]))),Fe=_.a.h5(ve||(ve=Object(E.a)(["\n\tcolor: #fff;\n\tfont-weight: 500;\n\tfont-size: 11px;\n\tz-index: 10;\n\tmargin: 0;\n\tmargin-top: 7px;\n"]))),Pe=_.a.div(ye||(ye=Object(E.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 1.8em;\n"]))),Ae={expanded:{width:"233%",height:"1050px",borderRadius:"20%",transform:"rotate(60deg)"},collapsed:{width:"160%",height:"550px",borderRadius:"50%",transform:"rotate(60deg)"}},De={type:"spring",duration:2.3,stiffness:30};function Ie(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)("signin"),s=Object(o.a)(i,2),a=s[0],d=s[1],l=Object(c.useContext)(p).setUser,j=function(){r(!0),setTimeout((function(){r(!1)}),1e3*De.duration-1500)},u={switchToSignup:function(){j(),setTimeout((function(){d("signup")}),400)},switchToSignin:function(){j(),setTimeout((function(){d("signin")}),400)}};return Object(h.jsx)(W.Provider,{value:u,children:Object(h.jsx)(Ce,{children:Object(h.jsxs)(Ne,{children:[Object(h.jsxs)(ke,{children:[Object(h.jsx)(Te,{initial:!1,animate:n?"expanded":"collapsed",variants:Ae,transition:De}),"signin"===a&&Object(h.jsxs)(Ee,{children:[Object(h.jsx)(_e,{children:"Sugar Rush"}),Object(h.jsx)(_e,{children:"Mania"}),Object(h.jsx)(Fe,{children:"Please sign-in to continue!"})]}),"signup"===a&&Object(h.jsxs)(Ee,{children:[Object(h.jsx)(_e,{children:"Create"}),Object(h.jsx)(_e,{children:"Account"}),Object(h.jsx)(Fe,{children:"Please sign-up to continue!"})]})]}),Object(h.jsxs)(Pe,{children:["signin"===a&&Object(h.jsx)(he,{setUser:l}),"signup"===a&&Object(h.jsx)(Se,{setUser:l})]})]})})})}var Le,Re,Me,Ue,ze=n(16),Be=n(8),Je=function(e){var t=e.productId,n=Object(c.useState)({title:"",content:"",rating:"",event_id:""}),r=Object(o.a)(n,2),i=r[0],s=r[1],a=Object(c.useContext)(O).setMessage,l=Object(c.useState)(!1),j=Object(o.a)(l,2),u=j[0],b=j[1],x=Object(c.useState)([]),p=Object(o.a)(x,2),m=p[0],f=p[1],g=Object(d.f)(),v=function(e){s(Object(R.a)(Object(R.a)({},i),{},Object(Be.a)({},e.target.name,e.target.value)))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{style:{justifyContent:"center"},children:Object(h.jsxs)("form",{children:[Object(h.jsx)(se,{children:Object(h.jsx)(ae,{type:"text",name:"title",value:i.title,onChange:v,placeholder:"Title"})}),Object(h.jsx)(se,{children:Object(h.jsx)(de,{type:"text",name:"content",value:i.content,onChange:v,placeholder:"Review"})}),Object(h.jsx)(se,{children:Object(h.jsx)(ae,{type:"text",name:"rating",value:i.rating,onChange:v,placeholder:"Rating from 1 to 5 (5 is the higest)"})}),Object(h.jsx)(se,{children:Object(h.jsx)(ae,{type:"text",name:"event_id",value:i.event_id,onChange:v,placeholder:"Enter your event order #"})}),Object(h.jsx)(se,{children:Object(h.jsx)(ie,{onClick:function(e){e.preventDefault(),fetch("/api/products/".concat(t,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){b(!1),201===e.status?e.json().then((function(e){s({title:e.title,content:e.content,rating:e.rating,event_id:e.event_id}),a({message:"Review successfully added",color:"green"}),g.push("/products")})):e.json().then((function(e){return f(e.errors)}))})).catch((function(e){return f(e.message)}))},color:"primary",type:"submit",children:u?"Loading...":"Submit"})}),Object(h.jsx)(se,{children:null===m||void 0===m?void 0:m.map((function(e){return Object(h.jsx)(be,{children:e},e)}))})]})})})},He=n(41),qe=_.a.section(Le||(Le=Object(E.a)(["\n\tmax-width: 1000px;\n\tmargin: 40px auto;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 24px;\n"]))),We=_.a.div(Re||(Re=Object(E.a)(["\n\tflex: 1;\n"]))),Ge=function(e){var t=e.reviewObj,n=e.handleUpdate,r=Object(c.useState)({title:t.title,content:t.content,rating:t.rating}),i=Object(o.a)(r,2),s=i[0],a=i[1],l=Object(c.useContext)(O).setMessage,j=Object(c.useState)(!1),u=Object(o.a)(j,2),b=u[0],x=u[1],p=Object(c.useState)([]),m=Object(o.a)(p,2),f=m[0],g=m[1],v=Object(d.f)(),y=function(e){a(Object(R.a)(Object(R.a)({},s),{},Object(Be.a)({},e.target.name,e.target.value)))},w={title:s.title,content:s.content,rating:s.rating};return Object(h.jsx)(qe,{children:Object(h.jsxs)(We,{children:[Object(h.jsx)("h1",{children:"Edit A Product"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/reviews/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then((function(e){x(!1),e.ok?(e.json().then((function(e){l({message:"Review was successfully modifed",color:"green"}),n(e)})),v.push("/products")):e.json().then((function(e){return g(e.errors)}))})).catch((function(e){return g(e.errors)}))},children:[Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"title",children:"Title"}),Object(h.jsx)(ae,{type:"text",name:"title",id:"title",value:s.title,onChange:y})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"category",children:"Content"}),Object(h.jsx)(ae,{type:"text",name:"content",id:"content",value:s.content,onChange:y})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"Rating",children:"Rating"}),Object(h.jsx)(de,{type:"text",name:"rating",id:"rating",value:s.rating,onChange:y})]}),Object(h.jsx)(se,{children:null===f||void 0===f?void 0:f.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(se,{children:Object(h.jsx)(ie,{type:"submit",children:b?"Loading...":"Update"})})]})]})})},Ve=function(e){var t=e.review,n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],s=r[1],a=Object(d.h)().reviewId,l=Object(d.f)(),j=Object(d.g)(),u=Object(c.useState)(!1),b=Object(o.a)(u,2),x=b[0],m=b[1],g=Object(c.useContext)(p).user,v=Object(c.useContext)(O).setMessage;Object(c.useEffect)((function(){t||fetch("/api/reviews/".concat(a)).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[t,a]);var y=t||i;if(!y)return"Loading...";return Object(h.jsx)("div",{className:"container",children:x?Object(h.jsx)(Ge,{handleUpdate:function(e){m(!0),s(e)},reviewObj:y,id:a}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"rev-card",style:{textAlign:"center",padding:"10px",margin:"50px"},children:[Object(h.jsx)(ze.b,{style:{textDecoration:"none",color:"red"},to:"/reviews/".concat(null===y||void 0===y?void 0:y.id),children:Object(h.jsxs)("h5",{children:[null===y||void 0===y?void 0:y.title," - rating: ",y.rating," of 5"]})}),Object(h.jsx)("p",{children:Object(h.jsx)("em",{children:null===y||void 0===y?void 0:y.content})}),Object(h.jsxs)("p",{children:["- ",null===y||void 0===y?void 0:y.post_by," ",Object(h.jsx)(He.d,{})," -"]}),x||!j.pathname.includes("/reviews")||(null===g||void 0===g?void 0:g.username)!==(null===y||void 0===y?void 0:y.post_by)&&"admin"!==(null===g||void 0===g?void 0:g.role)?null:Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("button",{onClick:function(){return m((function(e){return!e}))},style:{border:"none",backgroundColor:"white"},children:Object(h.jsx)("span",{"aria-label":"edit",children:Object(h.jsx)(f.a,{})})}),Object(h.jsx)("button",{onClick:function(){fetch("/api/reviews/".concat(a),{method:"DELETE"}).then((function(e){e.ok?(v({message:"Successfully deleted the review",color:"green"}),l.push("/products")):e.json().then((function(e){return v(e.errors)}))})).catch((function(e){return v(e.errors)}))},style:{border:"none",padding:"20px",backgroundColor:"white"},children:Object(h.jsx)("span",{"aria-label":"delete",children:Object(h.jsx)(He.a,{})})})]})]},null===y||void 0===y?void 0:y.id)})})},Ye=function(e){var t=e.reviews,n=Object(d.h)().productId,r=Object(c.useState)(null),i=Object(o.a)(r,2),s=i[0],a=i[1];Object(c.useEffect)((function(){t||fetch("/api/products/".concat(n,"/reviews")).then((function(e){200===e.status?e.json().then((function(e){return a(e)})):e.json().then((function(e){return alert(e.errors)}))})).catch((function(e){return alert(e.errors)}))}),[t,n]);var l=t||s,j=null===l||void 0===l?void 0:l.map((function(e){return Object(h.jsx)(Ve,{review:e},e.id)}));return Object(h.jsx)("div",{children:j})},$e=_.a.section(Me||(Me=Object(E.a)(["\n\tmax-width: 1000px;\n\tmargin: 40px auto;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 24px;\n"]))),Ke=_.a.div(Ue||(Ue=Object(E.a)(["\n\tflex: 1;\n"]))),Xe=function(e){var t=e.productObj,n=e.handleUpdate,r=Object(c.useState)({name:t.name,price:t.price,description:t.description,category:t.category}),i=Object(o.a)(r,2),s=i[0],a=i[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),u=j[0],b=j[1],x=Object(d.f)(),p=Object(c.useContext)(O).setMessage,m=Object(c.useState)([]),f=Object(o.a)(m,2),g=f[0],v=f[1],y=function(e){a(Object(R.a)(Object(R.a)({},s),{},Object(Be.a)({},e.target.name,e.target.value)))},w={name:s.name,price:s.price,description:s.description,category:s.category};return Object(h.jsx)($e,{children:Object(h.jsxs)(Ke,{children:[Object(h.jsx)("h1",{children:"Edit A Product"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(!0),fetch("/api/products/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}).then((function(e){b(!1),e.ok?(e.json().then((function(e){p({message:"Successfully update the product information",color:"green"}),n(e)})),x.push("/products")):e.json().then((function(e){return v(e.errors)}))})).catch((function(e){return v(e.errors)}))},children:[Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"name",children:"Name"}),Object(h.jsx)(ae,{type:"text",name:"name",id:"name",value:s.name,onChange:y})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"price",children:"Price $"}),Object(h.jsx)(ae,{type:"text",name:"price",id:"price",value:s.price,onChange:y})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"category",children:"Category"}),Object(h.jsx)(ae,{type:"text",name:"category",id:"category",value:s.category,onChange:y})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"description",children:"Description"}),Object(h.jsx)(de,{type:"text",name:"description",id:"description",value:s.description,onChange:y})]}),Object(h.jsx)(se,{children:null===g||void 0===g?void 0:g.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(se,{children:Object(h.jsx)(ie,{type:"submit",children:u?"Loading...":"Update"})})]})]})})},Qe=(n(133),n(134),function(e){var t=e.product,n=e.onAdd,r=e.isLoading,i=Object(c.useState)(null),s=Object(o.a)(i,2),l=s[0],j=s[1],u=Object(c.useState)([]),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(c.useState)(!1),g=Object(o.a)(f,2),v=g[0],y=g[1],w=Object(d.h)().productId,S=Object(d.g)(),C=Object(d.f)(),N=Object(c.useContext)(O).setMessage,k=Object(c.useContext)(p).user,T=Object(c.useState)(!0),E=Object(o.a)(T,2),_=E[0],F=E[1];Object(c.useEffect)((function(){t||fetch("/api/products/".concat(w)).then((function(e){return e.json()})).then((function(e){j(e),m(e.reviews)}))}),[t,w]);var P=t||l;if(!P)return Object(h.jsx)("h1",{children:"Loading..."});return Object(h.jsx)("div",{className:"products details",children:v?Object(h.jsx)(Xe,{user:k,id:w,productObj:P,handleUpdate:function(e){y(!0),j(e)}}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"col-md-4 mb-4",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:P.image_url,className:"card-img-top",alt:P.name}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)(ze.b,{style:{textDecoration:"none",color:"black",textTransform:"uppercase",textAlign:"center"},to:"/products/".concat(P.id),children:Object(h.jsx)("h5",{className:"card-title",children:P.name})}),Object(h.jsx)("p",{className:"card-text",children:P.description}),Object(h.jsxs)("p",{children:["Cateogry: ",P.category]}),Object(h.jsx)("p",{children:Object(h.jsxs)("em",{children:["Total Ordered for Events: ",P.ordered]})}),Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{children:["Price: $",P.price]}),k?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{className:"btn btn-dark ms-2",onClick:function(){return n(P)},children:r?"Adding":"Add to Cart"})}):null,"admin"===(null===k||void 0===k?void 0:k.role)?Object(h.jsx)(h.Fragment,{children:"/products"!==S.pathname?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"btn btn-dark ms-2",onClick:function(){return y((function(e){return!e}))},children:"Edit"}),Object(h.jsx)("button",{className:"btn btn-dark ms-2",onClick:function(){fetch("/api/products/".concat(w),{method:"DELETE"}).then((function(e){e.ok?(N({message:"Successfully deleted the product.",color:"green"}),C.push("/products")):e.json().then((function(e){return N(e.errors)}))})).catch((function(e){return N(e.errors)}))},children:"Delete"})]}):null}):null,Object(h.jsx)("br",{}),"/products"!==S.pathname?Object(h.jsxs)(h.Fragment,{children:[k?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("br",{}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("button",{onClick:function(){return F((function(e){return!e}))},style:{border:"none",backgroundColor:"white"},children:[_?Object(h.jsx)(He.c,{}):Object(h.jsx)(He.b,{})," ","Add a Review"]}),_?null:Object(h.jsx)(Je,{productId:P.id,addNewReview:function(e){m((function(t){return[e].concat(Object(a.a)(t))}))}})]})]}):null,Object(h.jsx)("hr",{}),Object(h.jsx)(Ye,{reviews:x})]}):null]})]})},P.id)})})}),Ze=function(e){var t=e.products,n=e.onAdd,c=null===t||void 0===t?void 0:t.map((function(e){return Object(h.jsx)(Qe,{product:e,onAdd:n},e.id)}));return Object(h.jsx)("div",{children:c})};var et,tt,nt,ct,rt,it,st,at,ot,dt,lt,jt,ut,bt,ht,Ot=function(e){var t=e.term,n=e.searchKeyword,r=Object(c.useRef)("");return Object(h.jsx)("form",{className:"d-flex w-80 mt-2",children:Object(h.jsx)("input",{className:"form-control me-2","aria-label":"Search",type:"search",ref:r,value:t,placeholder:"Search",onChange:function(){n(r.current.value)}})})},xt=function(e){var t=e.categories,n=e.filterProducts;return Object(h.jsx)("div",{className:"btn-container",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(h.jsx)("button",{type:"button",className:"btn btn-ligth ms-2",onClick:function(){return n(e)},children:Object(h.jsx)("div",{id:e.name,children:e},e.name)},t)}))})},pt=function(e){var t=e.onAdd,n=e.prods,r=Object(c.useState)([]),i=Object(o.a)(r,2),s=i[0],d=i[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),u=j[0],b=j[1],x=Object(c.useState)([]),p=Object(o.a)(x,2),m=p[0],f=p[1],g=Object(c.useContext)(O).setMessage;Object(c.useEffect)((function(){n||fetch("/api/products").then((function(e){return e.json()})).then((function(e){d(e),f(e)})).catch((function(e){return g({message:e.errors,color:"red"})}))}),[n,g]);var v=["All"].concat(Object(a.a)(new Set(null===s||void 0===s?void 0:s.map((function(e){return e.category})))));return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("header",{className:"blog-header position-fixed",children:Object(h.jsx)("div",{className:"row flex-nowrap justify-content-between align-items-center",children:Object(h.jsxs)("div",{className:"col-6 text-center",children:[Object(h.jsx)(xt,{categories:v,filterProducts:function(e){if("All"!==e){var t=null===s||void 0===s?void 0:s.filter((function(t){return t.category===e}));f(t)}else f(s)}}),Object(h.jsx)(Ot,{products:s,term:u,searchKeyword:function(e){if(b(e),""!==e){var t=m.filter((function(t){return Object.values(t).join(" ").toLowerCase().includes(e.toLowerCase())}));f(t)}else f(s)}})]})})}),Object(h.jsx)(Ze,{products:m,onAdd:t})]})},mt=function(){return Object(h.jsxs)("div",{className:"container mt-4",style:{fontFamily:"Gentium Basic"},children:[Object(h.jsx)("h3",{className:"text-center mb-5",children:"ABOUT US"}),Object(h.jsx)("div",{className:"underline"}),Object(h.jsxs)("div",{className:"grid",children:[Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead",children:"Lovers of sweets and good eats has led Vy to create this special brand Sugar Rush Mania. All made from scratch using the finest ingredients, Vy has spent endless hours creating her vast array of delightful menu items daring to brighten anyone\u2019s day."})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead",children:"But the journey didn\u2019t start out in the kitchenette. With a degree in Business Management and holding various accounting, purchasing, and management roles from tech companies across the spectrum. From manufacturing startups to corporate companies like Google, Vy has excelled in all her positions. With that knowledge base and her love of creating ultimate experiences for the palate she ventured into creating her own place in the desserts industry for the Bay Area, CA."})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead",children:"Vy is also the mother of three lovely young ladies, and loves spending quality time with them. The girls enjoy helping their mother bake goodies but enjoy tasting them more! Vy hopes you enjoy browsing the gallery and that she has the opportunity to serve your next event!"})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead mb-5",children:"Don\u2019t forget to stop by their pop up shops and various placement locations! Updated information on all social media outlets."})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead mb-5",children:"Thank you!"})}),Object(h.jsx)("div",{children:Object(h.jsx)("p",{className:"lead mb-5",children:"Sugar Rush Mania Team"})})]})]})},ft=n(101),gt=n(76),vt=n(102),yt=n(103),wt=_.a.div(et||(et=Object(E.a)(["\n    display: flex;\n  "]))),St=_.a.div(tt||(tt=Object(E.a)(["\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n  "]))),Ct=_.a.h1(nt||(nt=Object(E.a)([""]))),Nt=_.a.p(ct||(ct=Object(E.a)(["\n    margin: 20px 0px;\n  "]))),kt=_.a.div(rt||(rt=Object(E.a)(["\n    display: flex;\n  "]))),Tt=_.a.div(it||(it=Object(E.a)(["\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    color: white;\n    background-color: #",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 20px;\n  "])),(function(e){return e.color})),Et=_.a.div(st||(st=Object(E.a)(["\n    flex: 1;\n    padding: 20px;\n  "]))),_t=_.a.h3(at||(at=Object(E.a)(["\n    margin-bottom: 30px;\n  "]))),Ft=_.a.ul(ot||(ot=Object(E.a)(["\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    display: flex;\n    flex-wrap: wrap;\n  "]))),Pt=_.a.li(dt||(dt=Object(E.a)(["\n    width: 50%;\n    margin-bottom: 10px;\n  "]))),At=_.a.div(lt||(lt=Object(E.a)(["\n    flex: 1;\n    padding: 20px;\n  "]))),Dt=_.a.div(jt||(jt=Object(E.a)(["\n    margin-bottom: 20px;\n    display: flex;\n    align-items: center;\n  "]))),It=_.a.img(ut||(ut=Object(E.a)(["\n      width: 50%;\n  "]))),Lt=function(){return Object(h.jsxs)(wt,{children:[Object(h.jsxs)(St,{children:[Object(h.jsx)(Ct,{}),Object(h.jsx)(Nt,{children:"All made from scratch using the finest ingredients, Sugar Rush Mania offer a vast array of delightful menu items daring to brighten anyone\u2019s day."}),Object(h.jsxs)(kt,{children:[Object(h.jsx)(Tt,{color:"3B5999",children:Object(h.jsx)("a",{href:"https://www.facebook.com/sugarrushmania/",style:{color:"white"},children:Object(h.jsx)(ft.a,{})})}),Object(h.jsx)(Tt,{color:"E4405F",children:Object(h.jsx)("a",{href:"https://www.instagram.com/sugarrushmania/",style:{color:"white"},children:Object(h.jsx)(gt.a,{})})})]})]}),Object(h.jsxs)(Et,{children:[Object(h.jsx)(_t,{children:"Book Us!"}),Object(h.jsxs)(Ft,{children:[Object(h.jsx)(Pt,{children:"Wedding"}),Object(h.jsx)(Pt,{children:"Baby Shower"}),Object(h.jsx)(Pt,{children:"Gender Reveal Party"}),Object(h.jsx)(Pt,{children:"Company Party"}),Object(h.jsx)(Pt,{children:"Birthday Party"}),Object(h.jsx)(Pt,{children:"Graduation Celebration"}),Object(h.jsx)(Pt,{children:"Family Reunion"}),Object(h.jsx)(Pt,{children:"Surprise Party"}),Object(h.jsx)(Pt,{children:"Bachelor/Bachelorrete Party"})]})]}),Object(h.jsxs)(At,{children:[Object(h.jsx)(_t,{children:"Contact"}),Object(h.jsxs)(Dt,{children:[Object(h.jsx)(gt.b,{style:{marginRight:"10px"}})," San Jose, CA"]}),Object(h.jsxs)(Dt,{children:[Object(h.jsx)(vt.a,{style:{marginRight:"10px"}})," +1 408 430 7662"]}),Object(h.jsxs)(Dt,{children:[Object(h.jsx)(yt.a,{style:{marginRight:"10px"}})," info@sugarrushmania.com"]}),Object(h.jsx)(It,{src:"https://i.ibb.co/Qfvn4z6/payment.png"})]})]})},Rt=_.a.section(bt||(bt=Object(E.a)(["\n\tmax-width: 1000px;\n\tmargin: 40px auto;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 24px;\n"]))),Mt=_.a.div(ht||(ht=Object(E.a)(["\n\tflex: 1;\n"]))),Ut=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=(t[0],t[1]),r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],a=i[1],l=Object(d.f)(),j=Object(c.useContext)(p).user,u=Object(c.useState)([]),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(c.useContext)(O).setMessage,g=function(e){fetch("/api/products",{method:"POST",body:e}).then((function(e){a(!1),e.ok?(e.json().then((function(e){f({message:"Successfully update the product information",color:"green"}),n(e)})),l.push("/products")):e.json().then((function(e){return m(e.errors)}))})).catch((function(e){return m(e.errors)}))};return Object(h.jsx)(Rt,{children:Object(h.jsxs)(Mt,{children:[Object(h.jsx)("h1",{children:"Create A New Product"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(!0);var t=new FormData;t.append("product[name]",e.target.name.value),t.append("product[image]",e.target.image.files[0]),t.append("product[price]",e.target.price.value),t.append("product[description]",e.target.description.value),t.append("product[category]",e.target.category.value),t.append("user[id]",j.id),g(t)},children:[Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"name",children:"Name"}),Object(h.jsx)(ae,{type:"text",name:"name",id:"name"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"price",children:"Price $"}),Object(h.jsx)(ae,{type:"text",name:"price",id:"price"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"category",children:"Category"}),Object(h.jsx)(ae,{type:"text",name:"category",id:"category"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"description",children:"Description"}),Object(h.jsx)(de,{type:"text",name:"description",id:"description"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"image",children:"Image"}),Object(h.jsx)(ae,{type:"file",name:"image",id:"image"})]}),Object(h.jsx)(se,{children:null===x||void 0===x?void 0:x.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(se,{children:Object(h.jsx)("button",{type:"submit",children:s?"Loading...":"Create"})})]})]})})},zt=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(O).message;return Object(c.useEffect)((function(){var e=setTimeout((function(){r(!0)}),5e3);return function(){clearTimeout(e),r(!1)}}),[i]),Object(h.jsx)("div",{children:n?null:Object(h.jsx)("p",{style:{fontSize:"bold",color:null===i||void 0===i?void 0:i.color,textAlign:"center"},children:null===i||void 0===i?void 0:i.message})})},Bt=n(81),Jt=(n(135),n(105)),Ht=n.n(Jt),qt=n(106),Wt=n.n(qt),Gt=n(104),Vt=n.n(Gt),Yt=function(){var e,t,n,r=Object(c.useContext)(p).user;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"user",children:[Object(h.jsx)("div",{className:"userTitleContainer",children:Object(h.jsx)("h1",{className:"userTitle",children:"User Profile"})}),Object(h.jsx)("div",{className:"userContainer",children:Object(h.jsx)("div",{className:"userShow",children:Object(h.jsxs)("div",{className:"userShowBottom",children:[Object(h.jsx)("span",{className:"userShowTitle",children:"Account Details"}),Object(h.jsxs)("div",{className:"userShowInfo",children:[Object(h.jsx)(Vt.a,{className:"userShowIcon"}),Object(h.jsx)("span",{className:"userShowInfoTitle",children:null===r||void 0===r?void 0:r.username})]}),Object(h.jsx)("span",{className:"userShowTitle",children:"Active Since"}),Object(h.jsxs)("div",{className:"userShowInfo",children:[Object(h.jsx)(Ht.a,{className:"userShowIcon"}),Object(h.jsx)("span",{className:"userShowInfoTitle",children:(null===r||void 0===r?void 0:r.created_at)?Object(Bt.a)(null===r||void 0===r?void 0:r.created_at,"dddd, mmmm dS yyyy"):""})]}),Object(h.jsx)("span",{className:"userShowTitle",children:"Contact Details"}),Object(h.jsxs)("div",{className:"userShowInfo",children:[Object(h.jsx)(Wt.a,{className:"userShowIcon"}),Object(h.jsx)("span",{className:"userShowInfoTitle",children:null===r||void 0===r?void 0:r.email})]})]})})})]}),Object(h.jsx)("div",{className:"user",children:"admin"===(null===r||void 0===r?void 0:r.role)?Object(h.jsxs)("div",{className:"userShow",children:[Object(h.jsx)("span",{className:"userShowTitle",children:"Posted Products"}),Object(h.jsx)("ul",{children:null===(e=r.posted_products)||void 0===e?void 0:e.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)("p",{children:Object(h.jsxs)(ze.b,{style:{textDecoration:"none",color:"black"},to:"/products/".concat(e.id),className:"userShowInfoTitle",children:[e.name,"  ||",Object(h.jsx)("img",{style:{width:"50px",height:"50px"},src:e.image_url,alt:e.name})," ","|| last update: ",Object(Bt.a)(null===e||void 0===e?void 0:e.updated_at,"dddd, mmmm dS yyyy")]})})},e.id)}))})]}):null}),Object(h.jsx)("div",{className:"user",children:Object(h.jsxs)("div",{className:"userShow",children:[Object(h.jsxs)("span",{className:"userShowTitle",children:["Reviews History || Total Products Reviewed: ",null===r||void 0===r?void 0:r.total_products_reviewed]}),Object(h.jsx)("ul",{children:null===r||void 0===r?void 0:r.reviews.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)(ze.b,{style:{textDecoration:"none",color:"black"},to:"/reviews/".concat(e.id),className:"userShowInfoTitle",children:[e.content," || ",e.product_name," ||"," ",e.created_at?Object(Bt.a)(null===r||void 0===r?void 0:r.created_at,"dddd, mmmm dS yyyy"):""]})},e.id)}))})]})}),Object(h.jsx)("div",{className:"user",children:"guest"===(null===r||void 0===r?void 0:r.role)?Object(h.jsxs)("div",{className:"userShow",children:[Object(h.jsx)("span",{className:"userShowTitle",children:"Hosted Events"}),Object(h.jsx)("ul",{children:null===(t=r.hosted_events)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)("p",{className:"userShowInfoTitle",children:[e.name," ||",e.address]})},e.id)}))})]}):null}),Object(h.jsx)("div",{className:"user",children:"guest"===(null===r||void 0===r?void 0:r.role)?Object(h.jsxs)("div",{className:"userShow",children:[Object(h.jsxs)("span",{className:"userShowTitle",children:["Past Products Ordered from Events|| Total Products Ordered: ",r.total_ordered]}),Object(h.jsx)("ul",{children:null===(n=r.orders)||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)("p",{className:"userShowInfoTitle",children:[e.event_name," || ",e.sweet_name]})},e.id)}))})]}):null})]})},$t=Object(c.createContext)();function Kt(e){var t=e.children,n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(h.jsx)($t.Provider,{value:{cart:i,setCart:s},children:t})}var Xt,Qt,Zt,en,tn=n(34),nn=n(153),cn=n(78),rn=function(e){var t,n=e.onRemove,r=e.onAdd,i=e.products,s=Object(c.useState)([]),a=Object(o.a)(s,2),l=a[0],j=a[1],u=Object(c.useState)(!1),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(d.f)(),g=Object(c.useContext)(p).user,v=Object(c.useState)(""),y=Object(o.a)(v,2),w=y[0],S=y[1],C=Object(c.useContext)($t),N=C.cart,k=C.setCart,T=Object(c.useContext)(O).setMessage,E=Object(c.useRef)(),_=null===g||void 0===g||null===(t=g.hosted_events)||void 0===t?void 0:t.map((function(e){return[Object(h.jsx)(tn.a.Item,{eventKey:e.id,value:e,children:e.name},e.id)]}));return Object(h.jsxs)("section",{className:"card details",children:[Object(h.jsx)("div",{className:"text ",children:0===(null===N||void 0===N?void 0:N.length)&&Object(h.jsx)("h2",{style:{textAlign:"center",marginBottom:"1rem"},children:"Your Shopping Cart Is Empty"})}),null===N||void 0===N?void 0:N.map((function(e){var t=i.find((function(t){return t.id===e.product_id}));return Object(h.jsxs)("div",{className:"details",children:[Object(h.jsx)("img",{style:{width:"200px",height:"200px"},src:null===t||void 0===t?void 0:t.image_url,alt:null===t||void 0===t?void 0:t.name}),Object(h.jsxs)("div",{className:"proc-detail",style:{width:"760px",height:"200px"},children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("h2",{children:null===t||void 0===t?void 0:t.name}),Object(h.jsxs)("span",{children:["$",null===t||void 0===t?void 0:t.price]})]}),Object(h.jsx)("p",{children:null===t||void 0===t?void 0:t.description}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"amount",children:[Object(h.jsxs)("button",{className:"btn",onClick:function(){return function(e){var t=e.item_quantity-1;fetch("/api/cart_products/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_id:e.id,user_id:g.id,quantity:t})}).then((function(e){e.ok?e.json().then((function(e){return k(e)})):e.json().then((function(e){return j(e.errors)}))}))}(t)},children:[" ","-"," "]}),Object(h.jsx)("span",{style:{fontWeight:"14px",margin:"5px"},children:null===t||void 0===t?void 0:t.item_quantity}),Object(h.jsxs)("button",{className:"btn",onClick:function(){return r(t)},children:[" ","+"," "]}),Object(h.jsxs)("span",{children:[" Item Subtotal: $",null===t||void 0===t?void 0:t.item_total]})]})]}),Object(h.jsxs)("button",{className:"btn",onClick:function(){return n(t.id)},children:[" ","X"]})]},null===t||void 0===t?void 0:t.id)})),Object(h.jsx)("div",{className:"checkout",children:0!==(null===N||void 0===N?void 0:N.length)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{ref:E,onSubmit:function(e){e.preventDefault(),cn.a.sendForm("service_55f6xkt","order_confirmation",E.current,"7ynYafXFcrqNRFNTT").then((function(e){console.log(e.text),T({message:"Order confirmed. Order confirmation was sent to ".concat(null===g||void 0===g?void 0:g.email),color:"green"})}),(function(e){console.log(e.text)}))},children:[Object(h.jsx)(se,{children:Object(h.jsxs)(nn.a,{title:"Event List",id:"dropdown-menu-align-right",onSelect:function(e){S(Number(e))},children:[_,Object(h.jsx)(tn.a.Divider,{}),Object(h.jsx)(tn.a.Item,{as:ze.b,to:"/event/new",children:"New Event"})]})}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{children:"Name"}),Object(h.jsx)(ae,{type:"text",name:"user_name",value:null===g||void 0===g?void 0:g.username})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{children:"Email"}),Object(h.jsx)(ae,{type:"email",name:"user_email",value:null===g||void 0===g?void 0:g.email})]}),Object(h.jsx)(se,{children:null===l||void 0===l?void 0:l.map((function(e){return Object(h.jsx)(be,{children:e},e)}))}),Object(h.jsx)(ie,{color:"primary",type:"submit",onClick:function(){fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:g.id,event_id:w})}).then((function(e){m(!1),e.ok?k([]):e.json().then((function(e){return j(e.errors)}))}))},children:x?"Loading...":"CHECK OUT"})]}),Object(h.jsx)(ie,{className:"mt-3",color:"primary",onClick:function(){f.push("/products")},children:"CONTINUE SHOPPING"})]})})]})},sn=n(154),an=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),a=s[0],d=s[1];Object(c.useEffect)((function(){fetch("/api/most-popular").then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return alert(e.errors)}))}),[]);return Object(h.jsxs)("div",{className:"fp-container",children:[Object(h.jsxs)("div",{className:"header",style:{textAlign:"center"},children:[Object(h.jsx)("h2",{style:{fontWeight:"bolder"},children:"Top Sweets Ordered from Events"}),Object(h.jsx)(ze.b,{to:"/products",children:Object(h.jsx)(ie,{className:"btn-btn ms-2 mb-4",children:"Shop Sweets!"})})]}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(sn.a,{activeIndex:a,onSelect:function(e,t){d(e)},children:null===n||void 0===n?void 0:n.map((function(e){return Object(h.jsxs)(sn.a.Item,{children:[Object(h.jsx)("img",{className:"d-block w-100",src:e.image_url,alt:e.name}),Object(h.jsxs)(sn.a.Caption,{style:{color:"black"},children:[Object(h.jsx)("h3",{children:e.name}),Object(h.jsx)("p",{children:e.category})]})]},e.id)}))})})]})},on=_.a.section(Xt||(Xt=Object(E.a)(["\n\tmax-width: 1000px;\n\tmargin: 40px auto;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 24px;\n"]))),dn=_.a.div(Qt||(Qt=Object(E.a)(["\n\tflex: 1;\n"]))),ln=function(){var e=Object(c.useState)({name:"",datetime:"",location:"",address:""}),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),l=s[0],j=s[1],u=Object(c.useState)([]),b=Object(o.a)(u,2),x=b[0],m=b[1],f=Object(d.f)(),g=Object(c.useContext)(p),v=g.user,y=g.setUser,w=Object(c.useContext)(O).setMessage,S=function(e){r(Object(R.a)(Object(R.a)({},n),{},Object(Be.a)({},e.target.name,e.target.value)))},C={name:n.name,datetime:n.datetime,location:n.location,address:n.address,user_id:v.id};return Object(h.jsxs)(on,{children:[Object(h.jsxs)(dn,{children:[Object(h.jsx)("h2",{children:"Create a New Event Details"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),[n.name,n.datetime,n.location,n.address].some((function(e){return""===e.trim()}))&&alert("All information must be fill out."),j(!0),fetch("/api/users/".concat(v.id,"/events"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then((function(e){j(!1),e.ok?(e.json().then((function(e){w({message:"Successfully add a new event",color:"green"}),r(e),y((function(t){return Object(R.a)(Object(R.a)({},t),{},{hosted_events:[].concat(Object(a.a)(t.hosted_events),[e])})}))})),f.push("/cart")):e.json().then((function(e){return m(e.errors)}))})).catch((function(e){return m(e.errors)}))},children:[Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"name",children:"Event Name"}),Object(h.jsx)(ae,{type:"text",name:"name",value:n.name,onChange:S})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"date",children:"Event Date"}),Object(h.jsx)(ae,{type:"datetime",name:"datetime",placeholder:"MM/DD/YY",value:n.datetime,onChange:S})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"address",children:"Address"}),Object(h.jsx)(ae,{type:"text",name:"address",value:n.address,onChange:S})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{htmlFor:"location",children:"Location"}),Object(h.jsx)(ae,{type:"text",name:"location",value:n.location,onChange:S})]}),Object(h.jsx)(se,{children:Object(h.jsx)(ie,{color:"primary",type:"submit",children:l?"Loading...":"Submit Event"})}),Object(h.jsx)(se,{children:null===x||void 0===x?void 0:x.map((function(e){return Object(h.jsx)(be,{children:e},e)}))})]})]}),Object(h.jsxs)(dn,{children:[Object(h.jsx)("h1",{children:n.name}),Object(h.jsx)("h4",{children:n.datetime}),Object(h.jsxs)("p",{children:[n.location," || ",n.address]})]})]})},jn=_.a.section(Zt||(Zt=Object(E.a)(["\n\tmax-width: 1000px;\n\tmargin: 40px auto;\n\tpadding: 16px;\n\tdisplay: flex;\n\tgap: 24px;\n"]))),un=_.a.div(en||(en=Object(E.a)(["\n\tflex: 1;\n"]))),bn=function(e){var t=e.loading,n=Object(c.useContext)(O).setMessage,r=Object(c.useRef)(),i=Object(d.f)();return Object(h.jsx)(jn,{children:Object(h.jsx)(un,{children:Object(h.jsxs)("form",{ref:r,onSubmit:function(e){e.preventDefault(),cn.a.sendForm("service_55f6xkt","srm_contact_us",r.current,"7ynYafXFcrqNRFNTT").then((function(e){console.log(e.text),n({message:"Message successfully sent",color:"green"}),i.push("/products")}),(function(e){console.log(e.text)}))},children:[Object(h.jsx)("h2",{children:"Contact Sugar Rush Mania Team"}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{children:"Name"}),Object(h.jsx)(ae,{type:"text",name:"user_name"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{children:"Email"}),Object(h.jsx)(ae,{type:"email",name:"user_email"})]}),Object(h.jsxs)(se,{children:[Object(h.jsx)(oe,{children:"Message"}),Object(h.jsx)(de,{name:"message"})]}),Object(h.jsx)(ie,{type:"submit",value:"Send",children:t?"Sending...":"Send Message"})]})})})};var hn=function(){var e=Object(c.useContext)(p),t=e.user,n=e.setUser,r=Object(c.useContext)($t),i=r.cart,s=r.setCart,l=Object(c.useState)([]),j=Object(o.a)(l,2),u=j[0],b=j[1],x=Object(c.useContext)(O).setMessage,m=Object(c.useState)(""),f=Object(o.a)(m,2),g=f[0],v=f[1];function y(e){v(!0),fetch("/api/users/".concat(t.id,"/cart_products?product_id=").concat(e.id),{method:"POST",headers:{"Content-Type":"applicaiton/json"},body:JSON.stringify({product_id:e.id,user_id:t.id,quantity:1})}).then((function(e){e.ok?e.json().then((function(e){s(e),x({message:"Succesfully add to cart",color:"green"})})):e.json().then((function(e){return x({message:e.errors,color:"red"})}))}))}return Object(c.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return n(e)}))}))}),[n]),Object(c.useEffect)((function(){fetch("/api/products").then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){return x({message:e.errors,color:"red"})}))}),[i]),Object(c.useEffect)((function(){t&&fetch("/api/users/".concat(t.id,"/cart_products")).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return x({message:e.errors,color:"red"})}))}),[t]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T,{cart:i}),Object(h.jsx)(zt,{}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/home",children:Object(h.jsx)(an,{})}),Object(h.jsx)(d.a,{path:"/contact",children:Object(h.jsx)(bn,{loading:g})}),Object(h.jsx)(d.a,{path:"/products/new",children:Object(h.jsx)(Ut,{})}),Object(h.jsx)(d.a,{path:"/products/:id/reviews",children:Object(h.jsx)(Ye,{})}),Object(h.jsx)(d.a,{path:"/reviews/:reviewId",children:Object(h.jsx)(Ve,{})}),Object(h.jsx)(d.a,{path:"/products/:productId",children:Object(h.jsx)(Qe,{onAdd:y,isLoading:g})}),Object(h.jsx)(d.a,{path:"/products",children:Object(h.jsx)(pt,{onAdd:y})}),Object(h.jsx)(d.a,{path:"/profile",children:Object(h.jsx)(Yt,{})}),Object(h.jsx)(d.a,{path:"/cart",children:Object(h.jsx)(rn,{onAdd:y,onRemove:function(e){fetch("/api/cart_products/".concat(e),{method:"DELETE"}).then((function(t){t.ok?s(Object(a.a)(i).filter((function(t){return t.product_id!==e}))):t.json().then((function(e){return x({message:e.errors,color:"red"})}))})).catch((function(e){return x({message:e.errors,color:"red"})}))},products:u})}),Object(h.jsx)(d.a,{path:"/event/new",children:Object(h.jsx)(ln,{user:t})}),Object(h.jsx)(d.a,{path:"/about",children:Object(h.jsx)(mt,{})}),Object(h.jsx)(d.a,{path:"/account",children:Object(h.jsx)(Ie,{})})]}),Object(h.jsx)(Lt,{})]})};s.a.render(Object(h.jsx)(ze.a,{children:Object(h.jsx)(x,{children:Object(h.jsx)(m,{children:Object(h.jsx)(Kt,{children:Object(h.jsx)(hn,{})})})})}),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.be831f2b.chunk.js.map