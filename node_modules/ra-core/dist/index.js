var zc=Object.create;var ot=Object.defineProperty,Wc=Object.defineProperties,Hc=Object.getOwnPropertyDescriptor,Yc=Object.getOwnPropertyDescriptors,Jc=Object.getOwnPropertyNames,Or=Object.getOwnPropertySymbols,$c=Object.getPrototypeOf,yn=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable;var Oa=(e,t,r)=>t in e?ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))yn.call(t,r)&&Oa(e,r,t[r]);if(Or)for(var r of Or(t))Ua.call(t,r)&&Oa(e,r,t[r]);return e},v=(e,t)=>Wc(e,Yc(t)),n=(e,t)=>ot(e,"name",{value:t,configurable:!0});var Ie=e=>typeof e=="symbol"?e:e+"",w=(e,t)=>{var r={};for(var o in e)yn.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Or)for(var o of Or(e))t.indexOf(o)<0&&Ua.call(e,o)&&(r[o]=e[o]);return r};var ja=(e,t)=>{for(var r in t)ot(e,r,{get:t[r],enumerable:!0})},ka=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Jc(t))!yn.call(e,a)&&a!==r&&ot(e,a,{get:()=>t[a],enumerable:!(o=Hc(t,a))||o.enumerable});return e};var L=(e,t,r)=>(r=e!=null?zc($c(e)):{},ka(t||!e||!e.__esModule?ot(r,"default",{value:e,enumerable:!0}):r,e)),Zc=e=>ka(ot({},"__esModule",{value:!0}),e);var Rm={};ja(Rm,{AUTH_CHECK:()=>jn,AUTH_ERROR:()=>kn,AUTH_GET_PERMISSIONS:()=>Gn,AUTH_LOGIN:()=>Un,AUTH_LOGOUT:()=>Vn,AdminRouter:()=>Rn,AuthContext:()=>at,Authenticated:()=>zl,BasenameContextProvider:()=>gn,CREATE:()=>io,ChoicesContext:()=>Dr,ChoicesContextProvider:()=>Qp,ComponentPropType:()=>Ns,CoreAdmin:()=>pd,CoreAdminContext:()=>Fo,CoreAdminRoutes:()=>No,CoreAdminUI:()=>$n,CreateBase:()=>Yd,CreateContext:()=>Lt,CreateContextProvider:()=>ra,CreateController:()=>Jd,CustomRoutes:()=>Ii,DEFAULT_LOCALE:()=>Tn,DELETE:()=>lo,DELETE_MANY:()=>po,DataProviderContext:()=>dt,EditBase:()=>qd,EditContext:()=>Et,EditContextProvider:()=>aa,EditController:()=>Kd,ExporterContext:()=>Gi,FieldTitle:()=>Is,Form:()=>Wp,FormDataConsumer:()=>lc,FormGroupContext:()=>Ar,FormGroupContextProvider:()=>nm,FormGroupsContext:()=>Nt,FormGroupsProvider:()=>Ca,GET_LIST:()=>oo,GET_MANY:()=>ao,GET_MANY_REFERENCE:()=>so,GET_ONE:()=>no,HIDE_FILTER:()=>Mt,HttpError:()=>yo,I18N_CHANGE_LOCALE:()=>gm,I18N_TRANSLATE:()=>ym,I18nContext:()=>it,I18nContextProvider:()=>Jt,InferenceTypes:()=>Fd,InferredElement:()=>G,LabelPrefixContext:()=>qt,LabelPrefixContextProvider:()=>In,ListBase:()=>sp,ListContext:()=>vt,ListContextProvider:()=>ma,ListController:()=>ip,ListFilterContext:()=>wt,ListPaginationContext:()=>It,ListSortContext:()=>Dt,NotificationContext:()=>Wt,NotificationContextProvider:()=>Mn,OptionalRecordContextProvider:()=>na,Ready:()=>Wr,RecordContext:()=>Tr,RecordContextProvider:()=>ge,Resource:()=>Bn,ResourceContext:()=>sr,ResourceContextProvider:()=>me,ResourceDefinitionContext:()=>Do,ResourceDefinitionContextProvider:()=>Jn,SET_FILTER:()=>ke,SET_PAGE:()=>et,SET_PER_PAGE:()=>xt,SET_SORT:()=>ht,SHOW_FILTER:()=>Ct,SORT_ASC:()=>se,SORT_DESC:()=>fr,SaveContext:()=>Rr,SaveContextProvider:()=>Pr,ShowBase:()=>Np,ShowContext:()=>Ft,ShowContextProvider:()=>ha,ShowController:()=>Op,StoreContext:()=>zt,StoreContextProvider:()=>Cn,StoreSetter:()=>il,TestTranslationProvider:()=>cl,TranslatableContext:()=>$t,TranslatableContextProvider:()=>ll,UPDATE:()=>uo,UPDATE_MANY:()=>co,ValidationError:()=>pc,WithPermissions:()=>Kr,WithRecord:()=>Bd,choices:()=>rm,combine2Validators:()=>Tc,combineDataProviders:()=>Zl,composeSyncValidators:()=>Jp,composeValidators:()=>ba,convertLegacyAuthProvider:()=>to,convertLegacyDataProvider:()=>fo,defaultDataProvider:()=>$e,defaultExporter:()=>Pt,downloadCSV:()=>Uo,email:()=>em,escapePath:()=>ds,fetchActionsWithArrayOfIdentifiedRecordsResponse:()=>mo,fetchActionsWithArrayOfRecordsResponse:()=>_n,fetchActionsWithRecordResponse:()=>Qn,fetchActionsWithTotalResponse:()=>zn,fetchRelatedRecords:()=>Qi,fetchUtils:()=>Wn,getElementsFromRecords:()=>Ji,getFieldLabelTranslationArgs:()=>Qr,getFormGroupState:()=>Nc,getListControllerProps:()=>np,getMutationMode:()=>Gs,getNumberOrDefault:()=>ia,getQuery:()=>Au,getRecordFromLocation:()=>du,getSelectedReferencesStatus:()=>ga,getSimpleValidationResolver:()=>sn,getStatusForArrayInput:()=>Ku,getStatusForInput:()=>Bu,getStorage:()=>Se,getSuggestionsFactory:()=>Qc,getValuesFromRecords:()=>je,hasCustomParams:()=>Iu,inferTypeFromValues:()=>ea,injectedProps:()=>ca,isRequired:()=>om,linkToRecord:()=>Kc,localStorageStore:()=>nl,maxLength:()=>Bp,maxValue:()=>Kp,memoryStore:()=>_t,mergeRefs:()=>Tl,mergeTranslations:()=>pl,minLength:()=>Zp,minValue:()=>qp,number:()=>Xp,parseQueryFromLocation:()=>Du,queryReducer:()=>yr,regex:()=>Sc,removeDoubleSlashes:()=>ce,removeEmpty:()=>q,removeKey:()=>zr,required:()=>$p,resolveBrowserLocale:()=>dl,resolveRedirectTo:()=>Xc,sanitizeFetchType:()=>Wl,sanitizeListRestProps:()=>ap,setSubmissionErrors:()=>Ma,shallowEqual:()=>Ln,testDataProvider:()=>Bl,undoableEventEmitter:()=>xe,useApplyInputDefaultValues:()=>va,useAugmentedForm:()=>La,useAuthProvider:()=>ee,useAuthState:()=>$r,useAuthenticated:()=>oe,useBasename:()=>ue,useCheckAuth:()=>Je,useCheckMinimumRequiredProps:()=>Ki,useChoices:()=>wa,useChoicesContext:()=>_p,useCreate:()=>Hn,useCreateContext:()=>$d,useCreateController:()=>Mr,useCreatePath:()=>Qt,useDataProvider:()=>W,useDeepCompareEffect:()=>Ll,useDelete:()=>rr,useDeleteMany:()=>nd,useDeleteWithConfirmController:()=>tu,useDeleteWithUndoController:()=>eu,useEditContext:()=>Xd,useEditController:()=>Sr,useEventCallback:()=>vn,useExpanded:()=>Rp,useFilterState:()=>Bi,useFormGroup:()=>sm,useFormGroupContext:()=>Da,useGetIdentity:()=>si,useGetList:()=>Ze,useGetMany:()=>ed,useGetManyAggregate:()=>Be,useGetManyReference:()=>tr,useGetOne:()=>er,useGetPermissions:()=>lt,useGetResourceLabel:()=>ve,useGetValidationErrorMessage:()=>Ia,useI18nProvider:()=>He,useInitializeFormWithRecord:()=>im,useInput:()=>cm,useIsDataLoaded:()=>Kl,useIsFormInvalid:()=>Ta,useIsMounted:()=>Dn,useLabelPrefix:()=>Bt,useList:()=>br,useListContext:()=>dp,useListController:()=>Lr,useListFilterContext:()=>mp,useListPaginationContext:()=>fp,useListParams:()=>ua,useListSortContext:()=>yp,useLoading:()=>Xl,useLocale:()=>ml,useLocaleState:()=>Ye,useLocales:()=>fl,useLogin:()=>oi,useLogout:()=>Oe,useLogoutIfAccessDenied:()=>eo,useMutationMiddlewares:()=>Cr,useNotificationContext:()=>Ht,useNotify:()=>k,usePaginationState:()=>St,usePermissions:()=>Zr,usePermissionsOptimized:()=>Br,usePickFilterContext:()=>la,usePickPaginationContext:()=>pa,usePickSaveContext:()=>hr,usePickSortContext:()=>da,usePrevious:()=>zs,useRecordContext:()=>Re,useRecordSelection:()=>Pe,useRedirect:()=>le,useReference:()=>Ra,useReferenceArrayFieldController:()=>Cp,useReferenceArrayInputController:()=>Dp,useReferenceInputController:()=>Fp,useReferenceManyFieldController:()=>Tp,useReferenceOneFieldController:()=>Sp,useRefresh:()=>Xt,useRegisterMutationMiddleware:()=>Wd,useRemoveFromStore:()=>An,useResetStore:()=>Fn,useResourceContext:()=>_,useResourceDefinition:()=>qn,useResourceDefinitionContext:()=>or,useResourceDefinitions:()=>ur,useSafeSetState:()=>z,useSaveContext:()=>xr,useScrollToTop:()=>Pn,useSetLocale:()=>yl,useShowContext:()=>Up,useShowController:()=>vr,useSortState:()=>Tt,useStore:()=>de,useStoreContext:()=>Le,useSuggestions:()=>lm,useTimeout:()=>wn,useTranslatable:()=>Rl,useTranslatableContext:()=>Pl,useTranslate:()=>Q,useTranslateLabel:()=>Zt,useUnselect:()=>gr,useUnselectAll:()=>gp,useUpdate:()=>Yn,useUpdateMany:()=>od,useWarnWhenUnsavedChanges:()=>Sa,useWhyDidYouUpdate:()=>bn,validQueryParams:()=>wu,warning:()=>ut});module.exports=Zc(Rm);var Zn=L(require("react"));var be=L(require("react")),Io=require("react"),Ao=require("react-query");var We=L(require("react")),Wa=require("react"),Ha=require("react-router-dom"),Ya=require("history");var Va=L(require("react")),Ur=require("react"),Ga=require("react-router");function Qa({basename:e,children:t,history:r}){let[o,a]=(0,Ur.useState)({action:r.action,location:r.location});return(0,Ur.useLayoutEffect)(()=>r.listen(a),[r]),Va.createElement(Ga.Router,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:r})}n(Qa,"HistoryRouter");var za=L(require("react"));var _a=require("react"),jr=(0,_a.createContext)("");var gn=n(({children:e,basename:t})=>za.createElement(jr.Provider,{value:t},e),"BasenameContextProvider");var Rn=n(({history:e,basename:t="",children:r})=>{let o=(0,Ha.useInRouterContext)();return We.createElement(gn,{basename:o?t:""},We.createElement(o?Bc:qc,{basename:t,history:e},r))},"AdminRouter"),Bc=n(({children:e})=>We.createElement(We.Fragment,null,e),"DummyRouter"),qc=n(({children:e,history:t})=>{let r=(0,Wa.useMemo)(()=>t||(0,Ya.createHashHistory)(),[t]);return We.createElement(Qa,{history:r},e)},"InternalRouter");var Kc=n((e,t,r="edit")=>{let o=`${e}/${encodeURIComponent(t)}`;return r==="show"?`${o}/show`:o},"linkToRecord");var Xc=n((e,t,r,o,a="")=>{if(typeof e=="function"){let s=e(t,r,o);return typeof s=="string"?nt(`${a}/${s}`):p({pathname:nt(`${a}/${s.pathname}`)},s)}switch(e){case"list":return nt(`${a}/${t}`);case"create":return nt(`${a}/${t}/create`);case"edit":return nt(`${a}/${t}/${encodeURIComponent(r)}`);case"show":return nt(`${a}/${t}/${encodeURIComponent(r)}/show`);default:return e}},"resolveRedirectTo"),nt=n(e=>e.replace("//","/"),"removeDoubleSlashes");var Ja=require("react");var ue=n(()=>(0,Ja.useContext)(jr),"useBasename");var $a=require("react");var Qt=n(()=>{let e=ue();return(0,$a.useCallback)(({resource:t,id:r,type:o})=>{switch(o){case"list":return ce(`${e}/${t}`);case"create":return ce(`${e}/${t}/create`);case"edit":return ce(`${e}/${t}/${encodeURIComponent(r)}`);case"show":return ce(`${e}/${t}/${encodeURIComponent(r)}/show`);default:return o}},[e])},"useCreatePath"),ce=n(e=>e.replace("//","/"),"removeDoubleSlashes");var Za=require("react"),Ba=require("react-router-dom"),qa=require("history");var le=n(()=>{let e=(0,Ba.useNavigate)(),t=ue(),r=Qt();return(0,Za.useCallback)((o,a="",s,i,u={})=>{if(o)if(typeof o=="function"){let l=o(a,s,i),c=typeof l=="string"?`${t}/${l}`:p({pathname:`${t}/${l.pathname}`},l);e(typeof c=="string"?(0,qa.parsePath)(c):c,{state:p({_scrollToTop:!0},u)});return}else if(typeof o=="string"&&o.startsWith("http")&&window){window.location.href=o;return}else{e(r({resource:a,id:s,type:o}),{state:p({_scrollToTop:!0},u)});return}else return},[e,t,r])},"useRedirect");var Ka=require("react"),Xa=require("react-router-dom"),Pn=n(()=>{let e=(0,Xa.useLocation)();(0,Ka.useEffect)(()=>{var t;((t=e.state)==null?void 0:t._scrollToTop)&&typeof window<"u"&&window.scrollTo(0,0)},[e])},"useScrollToTop");var es=require("react"),el={id:""},tl={login:()=>Promise.resolve(),logout:()=>Promise.resolve(),checkAuth:()=>Promise.resolve(),checkError:()=>Promise.resolve(),getPermissions:()=>Promise.resolve(),getIdentity:()=>Promise.resolve(el)},ts=(0,es.createContext)(tl);ts.displayName="AuthContext";var at=ts;var rs=require("react");var st={loginUrl:"/login",afterLoginUrl:"/"},rl=n(()=>(0,rs.useContext)(at),"useAuthProvider"),ee=rl;var Zs=require("react");var $s=require("react");var Ne=require("react"),Jr=require("react-router-dom");var Te="RaStore",kr=Te.length,ol=n(()=>{if(typeof window>"u"||window.localStorage==null)return!1;try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},"testLocalStorage"),hn=ol(),nl=n((e="1")=>{let t={},r=n((a,s)=>{Object.keys(t).forEach(i=>{!t[i]||t[i].key===a&&t[i].callback(s)})},"publish"),o=n(a=>{if(a.key.substring(0,kr)!==Te)return;let s=a.key.substring(kr+1),i=os(a.newValue);Object.keys(t).forEach(u=>{!t[u]||t[u].key===s&&(i===null?t[u].callback(void 0):t[u].callback(i??void 0))})},"onLocalStorageChange");return{setup:()=>{if(hn){let a=Se().getItem(`${Te}.version`);a&&a!==e&&Se().clear(),Se().setItem(`${Te}.version`,e),window.addEventListener("storage",o)}},teardown:()=>{hn&&window.removeEventListener("storage",o)},getItem(a,s){let i=os(Se().getItem(`${Te}.${a}`));return i??s},setItem(a,s){s===void 0?Se().removeItem(`${Te}.${a}`):Se().setItem(`${Te}.${a}`,JSON.stringify(s)),r(a,s)},removeItem(a){Se().removeItem(`${Te}.${a}`),r(a,void 0)},reset(){let a=Se();for(let s=0;s<a.length;s++)if(a.key(s).substring(0,kr)===Te){let i=a.key(s).substring(kr+1);a.removeItem(a.key(s)),r(i,void 0)}},subscribe:(a,s)=>{let i=Math.random().toString();return t[i]={key:a,callback:s},()=>{delete t[i]}}}},"localStorageStore"),os=n(e=>{try{return JSON.parse(e)}catch{return e}},"tryParse"),Vr=class{constructor(){this.valuesMap=new Map}getItem(t){return this.valuesMap.has(t)?String(this.valuesMap.get(t)):null}setItem(t,r){this.valuesMap.set(t,r)}removeItem(t){this.valuesMap.delete(t)}clear(){this.valuesMap.clear()}key(t){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[t]}get length(){return this.valuesMap.size}};n(Vr,"LocalStorageShim");var al=new Vr,Se=n(()=>hn?window.localStorage:al,"getStorage");var ns=L(require("lodash/set")),xn=L(require("lodash/unset")),as=L(require("lodash/get")),_t=n((e={})=>{let t={},r=n((o,a)=>{Object.keys(t).forEach(s=>{!t[s]||t[s].key===o&&t[s].callback(a)})},"publish");return{setup:()=>{},teardown:()=>{Object.keys(e).forEach(o=>delete e[o])},getItem(o,a){return(0,as.default)(e,o,a)},setItem(o,a){(0,ns.default)(e,o,a),r(o,a)},removeItem(o){(0,xn.default)(e,o),r(o,void 0)},reset(){Object.keys(e).forEach(o=>{(0,xn.default)(e,o),r(o,void 0)})},subscribe:(o,a)=>{let s=Math.random().toString();return t[s]={key:o,callback:a},()=>{delete t[s]}}}},"memoryStore");var ss=require("react");var sl=_t(),zt=(0,ss.createContext)(sl);var is=L(require("react")),us=require("react");var Cn=n(({value:e,children:t})=>((0,us.useEffect)(()=>(e.setup(),()=>{e.teardown()}),[e]),is.createElement(zt.Provider,{value:e},t)),"StoreContextProvider");var Gr=L(require("react")),ls=require("react");var cs=require("react");var Le=n(()=>(0,cs.useContext)(zt),"useStoreContext");var il=n(({value:e,name:t,children:r})=>{let{setItem:o}=Le();return(0,ls.useEffect)(()=>{o(t,e)},[t,o,e]),Gr.createElement(Gr.Fragment,null,r)},"StoreSetter");var Yr=require("react");var ds=n(e=>e.replace(/(\(|\))/g,"\\$1"),"default");var Sn=L(require("react")),ws=require("react");var Ps=L(require("react")),hs=L(require("lodash/get"));var Rs=L(require("react")),Yt=require("react");var ps=require("react"),it=(0,ps.createContext)({translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"});it.displayName="I18nContext";var ys=require("react");var fs=require("react");var ms=require("react"),Wt=(0,ms.createContext)({notifications:[],addNotification:()=>{},takeNotification:()=>{},resetNotifications:()=>{}});var Ht=n(()=>(0,fs.useContext)(Wt),"useNotificationContext");var k=n(()=>{let{addNotification:e}=Ht();return(0,ys.useCallback)((t,r={})=>{let s=r,{type:o="info"}=s,a=w(s,["type"]);e({message:t,type:o,notificationOptions:a})},[e])},"useNotify");var gs=L(require("react")),Ae=require("react");var Mn=n(({children:e})=>{let[t,r]=(0,Ae.useState)([]),o=(0,Ae.useCallback)(u=>{r(l=>[...l,u])},[]),a=(0,Ae.useCallback)(()=>{let[u,...l]=t;return r(l),u},[t]),s=(0,Ae.useCallback)(()=>{r([])},[]),i=(0,Ae.useMemo)(()=>({notifications:t,addNotification:o,takeNotification:a,resetNotifications:s}),[t]);return gs.createElement(Wt.Provider,{value:i},e)},"NotificationContextProvider");var Jt=n(({value:e=ul,children:t})=>{let[r]=de("locale"),o=k(),[a,s]=(0,Yt.useState)(0),[i,u]=(0,Yt.useState)(r===e.getLocale());return(0,Yt.useEffect)(()=>{r&&e.getLocale()!==r?new Promise(l=>{l(e.changeLocale(r))}).then(()=>{s(l=>l+1),u(!0)}).catch(l=>{u(!0),o("ra.notification.i18n_error",{type:"warning"}),console.error(l)}):u(!0)},[e,r,o]),i?Rs.createElement(it.Provider,{value:e,key:a},t):null},"I18nContextProvider"),ul={translate:e=>e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"};var cl=n(({translate:e,messages:t,children:r})=>Ps.createElement(Jt,{value:{translate:t?(o,a)=>{let s=(0,hs.default)(t,o);return s?typeof s=="function"?s(a):s:a._}:e,changeLocale:()=>Promise.resolve(),getLocale:()=>"en"}},r),"TestTranslationProvider");var xs=require("react"),$t=(0,xs.createContext)(void 0);var Cs=L(require("react"));var ll=n(({children:e,value:t})=>Cs.createElement($t.Provider,{value:t},e),"TranslatableContextProvider");var Ms=L(require("lodash/merge"));var dl=n((e,t)=>{let{language:r,browserLanguage:o,userLanguage:a}=window.navigator,s=r||o||a||e||Tn;return t!=null&&t.fullLocale?s:s.split("-")[0]},"resolveBrowserLocale"),pl=n((...e)=>(0,Ms.default)({},...e),"mergeTranslations");var Ss=require("react");var Ts=require("react");var He=n(()=>(0,Ts.useContext)(it),"useI18nProvider");var Ye=n(()=>{let e=He(),t=(0,Ss.useMemo)(()=>e.getLocale(),[e]);return de("locale",t)},"useLocaleState");var ml=n(()=>{let[e]=Ye();return e},"useLocale");var Ls=require("react");var fl=n(e=>{let t=He(),r=(0,Ls.useMemo)(()=>t!=null&&t.getLocales?t==null?void 0:t.getLocales():[],[t]);return(e==null?void 0:e.locales)??r},"useLocales");var yl=n(()=>{let[,e]=Ye();return e},"useSetLocale");var _r=require("react");var bs=require("react");var Es=require("react");var Q=n(()=>{let e=He(),t=(0,Es.useCallback)((r,o)=>e.translate(r,o),[e]);return e?t:gl},"useTranslate"),gl=n(e=>e,"identity");var Zt=n(()=>{let e=Q(),t=Bt(),r=_();return(0,bs.useCallback)(({source:o,label:a,resource:s})=>a===!1||a===""?null:a&&typeof a!="string"?a:e(...Qr({label:a,prefix:t,resource:s,resourceFromContext:r,source:o})),[t,r,e])},"useTranslateLabel");var Rl=n(e=>{let[t]=Ye(),{defaultLocale:r=t,locales:o}=e,[a,s]=(0,_r.useState)(r),i=_({}),u=Zt();return(0,_r.useMemo)(()=>({getSource:(c,d=a)=>`${c}.${d}`,getLabel:(c,d)=>u({source:c,resource:i,label:d}),locales:o,selectedLocale:a,selectLocale:s}),[o,i,a,u])},"useTranslatable");var vs=require("react");var Pl=n(()=>{let e=(0,vs.useContext)($t);if(!e)throw new Error("useTranslatableContext must be used inside a TranslatableContextProvider");return e},"useTranslatableContext");var Tn="en";var Ds=n(e=>{let{source:t,label:r,resource:o,isRequired:a}=e,s=Zt();if(r===!0)throw new Error("Label parameter must be a string, a ReactElement or false");return r===!1||r===""?null:r&&typeof r!="string"?r:Sn.createElement("span",null,s({label:r,resource:o,source:t}),a&&Sn.createElement("span",{"aria-hidden":"true"},"\u2009*"))},"FieldTitle");Ds.displayName="FieldTitle";var Is=(0,ws.memo)(Ds);var As=L(require("inflection")),Qr=n(e=>{if(!e)return[""];let{label:t,prefix:r,resource:o,resourceFromContext:a,source:s}=e;if(typeof t<"u")return[t,{_:t}];if(typeof s>"u")return[""];let{sourceWithoutDigits:i,sourceSuffix:u}=hl(s),l=As.default.transform(u.replace(/\./g," "),["underscore","humanize"]);return o?[`resources.${o}.fields.${i}`,{_:l}]:r?[`${r}.${i}`,{_:l}]:[`resources.${a}.fields.${i}`,{_:l}]},"default"),hl=n(e=>{let t=e.replace(/\.\d+\./g,"."),r=e.split("."),o;r.forEach((s,i)=>{xl(s)&&(o=i)});let a=o!=null?r.slice(o+1).join("."):e;return{sourceWithoutDigits:t,sourceSuffix:a}},"getSourceParts"),xl=n(e=>{for(let t=e.length-1;t>=0;t--){let r=e.charCodeAt(t);if(r<48||r>57)return!1}return!0},"onlyDigits");var Fs=require("react-is"),Ns=n((e,t,r)=>{if(e[t]&&!(0,Fs.isValidElementType)(e[t]))return new Error(`Invalid prop '${t}' supplied to '${r}': the prop is not a valid React component`)},"default");function Os(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}n(Os,"is");var Ln=n((e,t)=>{if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Os(e[r[a]],t[r[a]]))return!1;return!0},"shallowEqual");var Cl=n(e=>e&&Object.prototype.toString.call(e)==="[object Object]","isObject"),Ml=n(e=>e instanceof Date?!1:e===""||e===null||e===void 0||Ln(e,{}),"isEmpty"),Us=n(e=>Object.keys(e).reduce((t,r)=>{let o=e[r];return Cl(e[r])&&(o=Us(e[r])),Ml(o)?t:v(p({},t),{[r]:o})},{}),"removeEmpty"),q=Us;var js=n((e,t)=>Object.keys(e).reduce((r,o)=>o!==t?Object.assign({},r,{[o]:e[o]}):r,{}),"removeKey"),ks=n((e,t)=>{let r=t.split(".");if(r.length===1)return js(e,t);let o=r[0];if(e[o]===void 0)return e;let a=ks(e[o],r.slice(1).join("."));return Object.keys(a).length===0?js(e,o):Object.assign({},e,{[o]:a})},"deepRemoveKey"),zr=ks;var $=L(require("react")),Vs=require("react"),Fe={root:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",fontFamily:'"Roboto", sans-serif'},main:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",flexDirection:"column",background:"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)",color:"white",fontSize:"1.5em",fontWeight:"bold"},secondary:{height:"20vh",background:"#e8e8e8",color:"black",display:"flex",alignItems:"center",justifyContent:"space-evenly"},link:{textAlign:"center",width:150,display:"block",textDecoration:"none",color:"black",opacity:.7},linkHovered:{opacity:1},image:{width:50},logo:{height:100}},En=n(({img:e,label:t,href:r})=>{let[o,a]=(0,Vs.useState)(!1);return $.createElement("div",null,$.createElement("a",{href:r,style:o?p(p({},Fe.link),Fe.linkHovered):Fe.link,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},$.createElement("img",{src:e,alt:t,style:Fe.image}),$.createElement("br",null),t))},"Button"),Wr=n(()=>process.env.NODE_ENV==="production"?$.createElement("span",null):$.createElement("div",{style:Fe.root},$.createElement("div",{style:Fe.main},$.createElement("img",{style:Fe.logo,src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhbHF1ZV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTMxIDEzMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTMxIDEzMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMyMjI0NTg7fQoJLnN0MXtmaWxsOiM1MTUzN0Q7fQoJLnN0MntmaWxsOiNBM0E0Qjk7fQoJLnN0M3tmaWxsOiMwMDAyM0I7fQoJLnN0NHtmaWxsOiNGRkZGRkY7fQoJLnN0NXtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30KPC9zdHlsZT4KPHRpdGxlPkxvZ29fc29tYnJlX2FpPC90aXRsZT4KPGcgaWQ9IlJlY3RhbmdsZV81NiI+Cgk8Zz4KCQk8cmVjdCB4PSIxOS4xIiB5PSIxOSIgdHJhbnNmb3JtPSJtYXRyaXgoMC41IC0wLjg2NiAwLjg2NiAwLjUgLTIzLjkyMjYgODkuNTQ2KSIgY2xhc3M9InN0MCIgd2lkdGg9IjkyLjkiIGhlaWdodD0iOTIuOSIvPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MywxMzAuM0wwLjgsODIuOUw0OC4yLDAuN2w4Mi4yLDQ3LjVMODMsMTMwLjN6IE0zLjUsODIuMWw3OC43LDQ1LjVsNDUuNS03OC43TDQ5LDMuNEwzLjUsODIuMXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjdGFuZ2xlXzU2LTIiPgoJPGc+CgkJPHJlY3QgeD0iMTkiIHk9IjE5LjEiIHRyYW5zZm9ybT0ibWF0cml4KDAuODY2IC0wLjUgMC41IDAuODY2IC0yMy45Nzc3IDQxLjUyNykiIGNsYXNzPSJzdDAiIHdpZHRoPSI5Mi45IiBoZWlnaHQ9IjkyLjkiLz4KCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDcuOSwxMzFMMCw0OEw4My4xLDBsNDgsODMuMUw0Ny45LDEzMXogTTQuMSw0OS4xbDQ1LDc3LjlsNzcuOS00NUw4Miw0LjFMNC4xLDQ5LjF6Ii8+Cgk8L2c+CjwvZz4KPGcgaWQ9IlJlY3RhbmdsZV81Ni0zIj4KCTxnPgoJCTxyZWN0IHg9IjE5LjEiIHk9IjE5IiBjbGFzcz0ic3QzIiB3aWR0aD0iOTIuOSIgaGVpZ2h0PSI5Mi45Ii8+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTExNC41LDExNC41SDE2LjZWMTYuNWg5Ny45VjExNC41eiBNMjEuNiwxMDkuNWg4Ny45VjIxLjVIMjEuNlYxMDkuNXoiLz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmEiPgoJPGcgY2xhc3M9InN0NSI+CgkJPHBhdGggY2xhc3M9InN0NCIgZD0iTTU5LDg2LjdsLTYuNy0xOS4yaC0xLjJIMzguOXYxOS4yaC01LjZWMzguNWgxOC41YzMuNiwwLDYuMywwLjYsOC4xLDEuOGMxLjgsMS4yLDMsMi44LDMuNSw0LjgKCQkJYzAuNSwyLDAuOCw0LjYsMC44LDcuOGMwLDMuNS0wLjQsNi40LTEuMyw4LjdjLTAuOCwyLjMtMi42LDMuOS01LjMsNC44TDY1LDg2LjdINTl6IE01NS43LDYxLjZjMS4yLTAuNywyLTEuNywyLjQtMwoJCQljMC40LTEuMywwLjYtMy4yLDAuNi01LjZjMC0yLjUtMC4yLTQuMy0wLjUtNS42Yy0wLjMtMS4zLTEuMS0yLjItMi4zLTIuOWMtMS4yLTAuNy0zLTEtNS41LTFIMzguOXYxOS4xSDUwCgkJCUM1Mi41LDYyLjYsNTQuNCw2Mi4zLDU1LjcsNjEuNnoiLz4KCQk8cGF0aCBjbGFzcz0ic3Q0IiBkPSJNNzQuMyw4NWMtMS42LTEuNS0yLjUtNC4yLTIuNS04LjJjMC0yLjcsMC4zLTQuOCwwLjktNi4zYzAuNi0xLjUsMS42LTIuNiwzLTMuM2MxLjQtMC43LDMuNC0xLDYtMQoJCQljMS4zLDAsNS4xLDAuMSwxMS40LDAuM3YtMi40YzAtMi45LTAuMi01LTAuNy02LjJjLTAuNS0xLjItMS4zLTItMi42LTIuNGMtMS4yLTAuMy0zLjMtMC41LTYuMy0wLjVjLTEuMywwLTMsMC4xLTQuOSwwLjIKCQkJYy0yLDAuMS0zLjYsMC4zLTQuOCwwLjV2LTQuM2MzLjMtMC43LDcuMS0xLDExLjQtMWMzLjcsMCw2LjUsMC40LDguNCwxLjJjMS44LDAuOCwzLjEsMi4yLDMuOCw0LjFjMC43LDEuOSwxLDQuNywxLDguNHYyMi41aC00LjgKCQkJbC0wLjMtNWgtMC4zYy0wLjgsMi4yLTIuMiwzLjctNC4xLDQuNGMtMS45LDAuNy00LjEsMS4xLTYuNiwxLjFDNzguNiw4Ny4yLDc2LDg2LjUsNzQuMyw4NXogTTg5LjEsODJjMS4yLTAuNCwyLjItMS4yLDIuOC0yLjQKCQkJYzAuOS0xLjgsMS4zLTQuMywxLjMtNy4zdi0yaC0xMGMtMS43LDAtMywwLjItMy44LDAuNWMtMC44LDAuMy0xLjQsMC45LTEuNywxLjhjLTAuMywwLjktMC41LDIuMi0wLjUsNGMwLDEuOCwwLjIsMy4xLDAuNiwzLjkKCQkJYzAuNCwwLjgsMS4xLDEuNCwyLDEuOGMxLDAuMywyLjUsMC41LDQuNSwwLjVDODYuMiw4Mi42LDg3LjgsODIuNCw4OS4xLDgyeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",alt:"react-admin logo"}),$.createElement("h1",null,"Welcome to React-admin"),$.createElement("div",null,"Your application is properly configured.",$.createElement("br",null),"Now you can add a <Resource> as child of <Admin>.")),$.createElement("div",{style:Fe.secondary},$.createElement(En,{href:"https://marmelab.com/react-admin/Readme.html",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0yMSw1Yy0xLjExLTAuMzUtMi4zMy0wLjUtMy41LTAuNWMtMS45NSwwLTQuMDUsMC40LTUuNSwxLjVjLTEuNDUtMS4xLTMuNTUtMS41LTUuNS0xLjVTMi40NSw0LjksMSw2djE0LjY1CgkJCWMwLDAuMjUsMC4yNSwwLjUsMC41LDAuNWMwLjEsMCwwLjE1LTAuMDUsMC4yNS0wLjA1QzMuMSwyMC40NSw1LjA1LDIwLDYuNSwyMGMxLjk1LDAsNC4wNSwwLjQsNS41LDEuNWMxLjM1LTAuODUsMy44LTEuNSw1LjUtMS41CgkJCWMxLjY1LDAsMy4zNSwwLjMsNC43NSwxLjA1YzAuMSwwLjA1LDAuMTUsMC4wNSwwLjI1LDAuMDVjMC4yNSwwLDAuNS0wLjI1LDAuNS0wLjVWNkMyMi40LDUuNTUsMjEuNzUsNS4yNSwyMSw1eiBNMywxOC41VjcKCQkJYzEuMS0wLjM1LDIuMy0wLjUsMy41LTAuNWMxLjM0LDAsMy4xMywwLjQxLDQuNSwwLjk5djExLjVDOS42MywxOC40MSw3Ljg0LDE4LDYuNSwxOEM1LjMsMTgsNC4xLDE4LjE1LDMsMTguNXogTTIxLDE4LjUKCQkJYy0xLjEtMC4zNS0yLjMtMC41LTMuNS0wLjVjLTEuMzQsMC0zLjEzLDAuNDEtNC41LDAuOTlWNy40OWMxLjM3LTAuNTksMy4xNi0wLjk5LDQuNS0wLjk5YzEuMiwwLDIuNCwwLjE1LDMuNSwwLjVWMTguNXoiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik0xMSw3LjQ5QzkuNjMsNi45MSw3Ljg0LDYuNSw2LjUsNi41QzUuMyw2LjUsNC4xLDYuNjUsMyw3djExLjVDNC4xLDE4LjE1LDUuMywxOCw2LjUsMTgKCQkJYzEuMzQsMCwzLjEzLDAuNDEsNC41LDAuOTlWNy40OXoiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGQ9Ik0xNy41LDEwLjVjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlY5LjI0QzE5LjIxLDkuMDksMTguMzYsOSwxNy41LDljLTEuMjgsMC0yLjQ2LDAuMTYtMy41LDAuNDd2MS41NwoJCQlDMTQuOTksMTAuNjksMTYuMTgsMTAuNSwxNy41LDEwLjV6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTMuMTZjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNlYxMS45Yy0wLjc5LTAuMTUtMS42NC0wLjI0LTIuNS0wLjI0Yy0xLjI4LDAtMi40NiwwLjE2LTMuNSwwLjQ3djEuNTcKCQkJQzE0Ljk5LDEzLjM2LDE2LjE4LDEzLjE2LDE3LjUsMTMuMTZ6Ii8+CgkJPHBhdGggZD0iTTE3LjUsMTUuODNjMC44OCwwLDEuNzMsMC4wOSwyLjUsMC4yNnYtMS41MmMtMC43OS0wLjE1LTEuNjQtMC4yNC0yLjUtMC4yNGMtMS4yOCwwLTIuNDYsMC4xNi0zLjUsMC40N3YxLjU3CgkJCUMxNC45OSwxNi4wMiwxNi4xOCwxNS44MywxNy41LDE1LjgzeiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Documentation"}),$.createElement(En,{href:"https://github.com/marmelab/react-admin/tree/master/examples",img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDI0djI0SDBWMHoiLz48cGF0aCBkPSJNOS40IDE2LjZMNC44IDEybDQuNi00LjZMOCA2bC02IDYgNiA2IDEuNC0xLjR6bTUuMiAwbDQuNi00LjYtNC42LTQuNkwxNiA2bDYgNi02IDYtMS40LTEuNHoiLz48L3N2Zz4=",label:"Examples"}),$.createElement(En,{href:"https://stackoverflow.com/questions/tagged/react-admin",img:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IgoJIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJCb3VuZGluZ19Cb3giPgoJPHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+CjwvZz4KPGcgaWQ9IkZsYXQiPgoJPGcgaWQ9InVpX3g1Rl9zcGVjX3g1Rl9oZWFkZXJfY29weV8yIj4KCTwvZz4KCTxnPgoJCTxjaXJjbGUgb3BhY2l0eT0iMC4zIiBjeD0iOSIgY3k9IjgiIHI9IjIiLz4KCQk8cGF0aCBvcGFjaXR5PSIwLjMiIGQ9Ik05LDE1Yy0yLjcsMC01LjgsMS4yOS02LDIuMDFMMywxOGgxMnYtMUMxNC44LDE2LjI5LDExLjcsMTUsOSwxNXoiLz4KCQk8cGF0aCBkPSJNMTYuNjcsMTMuMTNDMTguMDQsMTQuMDYsMTksMTUuMzIsMTksMTd2M2g0di0zQzIzLDE0LjgyLDE5LjQzLDEzLjUzLDE2LjY3LDEzLjEzeiIvPgoJCTxwYXRoIGQ9Ik0xNSwxMmMyLjIxLDAsNC0xLjc5LDQtNGMwLTIuMjEtMS43OS00LTQtNGMtMC40NywwLTAuOTEsMC4xLTEuMzMsMC4yNEMxNC41LDUuMjcsMTUsNi41OCwxNSw4cy0wLjUsMi43My0xLjMzLDMuNzYKCQkJQzE0LjA5LDExLjksMTQuNTMsMTIsMTUsMTJ6Ii8+CgkJPHBhdGggZD0iTTksMTJjMi4yMSwwLDQtMS43OSw0LTRjMC0yLjIxLTEuNzktNC00LTRTNSw1Ljc5LDUsOEM1LDEwLjIxLDYuNzksMTIsOSwxMnogTTksNmMxLjEsMCwyLDAuOSwyLDJjMCwxLjEtMC45LDItMiwyCgkJCVM3LDkuMSw3LDhDNyw2LjksNy45LDYsOSw2eiIvPgoJCTxwYXRoIGQ9Ik05LDEzYy0yLjY3LDAtOCwxLjM0LTgsNHYzaDE2di0zQzE3LDE0LjM0LDExLjY3LDEzLDksMTN6IE0xNSwxOEgzbDAtMC45OUMzLjIsMTYuMjksNi4zLDE1LDksMTVzNS44LDEuMjksNiwyVjE4eiIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=",label:"Community"}))),"default");var ut=n((e,t)=>{e&&process.env.NODE_ENV!=="production"&&console.warn(t)},"default");var Hr=require("react");function bn(e,t){let r=(0,Hr.useRef)();(0,Hr.useEffect)(()=>{if(r.current){let o=Object.keys(p(p({},r.current),t)),a={};o.forEach(s=>{r.current[s]!==t[s]&&(a[s]={from:r.current[s],to:t[s]})}),Object.keys(a).length&&console.log("[why-did-you-update]",e,a)}r.current=t})}n(bn,"useWhyDidYouUpdate");var Gs=n((e,t)=>{if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}},"getMutationMode");function Tl(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}n(Tl,"mergeRefs");var ct=L(require("react")),Qs=require("react"),Sl=typeof window<"u"?ct.useLayoutEffect:ct.useEffect,vn=n((e,t)=>{let r=ct.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return Sl(()=>{r.current=e},[e,...t]),(0,Qs.useCallback)((...o)=>r.current(...o),[])},"useEventCallback");var K=require("react"),_s=L(require("lodash/isEqual"));function z(e){let[t,r]=(0,K.useState)(e),o=(0,K.useRef)(!1);(0,K.useEffect)(()=>(o.current=!0,()=>{o.current=!1}),[]);let a=(0,K.useCallback)(s=>{if(o.current)return r(s)},[o,r]);return[t,a]}n(z,"useSafeSetState");function zs(e){let t=(0,K.useRef)();return(0,K.useEffect)(()=>{t.current=e}),t.current}n(zs,"usePrevious");function Ll(e,t){let r=(0,K.useRef)();(0,K.useEffect)(()=>((0,_s.default)(o,t)||(r.current=e()),r.current));let o=zs(t)}n(Ll,"useDeepCompareEffect");function wn(e=0,t=""){let[r,o]=z(!1);return(0,K.useEffect)(()=>{o(!1);let a=setTimeout(()=>{o(!0)},e);return()=>{clearTimeout(a)}},[t,e,o]),r}n(wn,"useTimeout");function Dn(){let e=(0,K.useRef)(!0);return(0,K.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}n(Dn,"useIsMounted");var Ws=require("react"),qt=(0,Ws.createContext)("");var Ys=L(require("react"));var Hs=require("react");var Bt=n(()=>(0,Hs.useContext)(qt),"useLabelPrefix");var In=n(({prefix:e,concatenate:t=!0,children:r})=>{let o=Bt(),a=o&&t?`${o}.${e}`:e;return Ys.createElement(qt.Provider,{value:a},r)},"LabelPrefixContextProvider");var de=n((e,t)=>{let{getItem:r,setItem:o,subscribe:a}=Le(),[s,i]=(0,Yr.useState)(()=>r(e,t));(0,Yr.useEffect)(()=>{let l=a(e,c=>{i(typeof c>"u"?t:c)});return()=>l()},[e,a,t]);let u=vn((l,c)=>{let d=typeof l=="function"?l(s):l;o(e,typeof d>"u"?typeof c>"u"?t:c:d)},[e,o,t,s]);return[s,u]},"useStore");var Js=require("react");var An=n(e=>{let{removeItem:t}=Le();return(0,Js.useCallback)(r=>t(typeof r>"u"?e:r),[t,e])},"useRemoveFromStore");var Fn=n(()=>{let{reset:e}=Le();return e},"useResetStore");var El=n(()=>{let e=ee(),t=Fn(),r=(0,Jr.useNavigate)(),o=(0,Ne.useRef)(r),a=(0,Jr.useLocation)(),s=(0,Ne.useRef)(a),i=ue(),u=ce(`${i}/${st.loginUrl}`);(0,Ne.useEffect)(()=>{s.current=a,o.current=r},[a,r]);let l=(0,Ne.useCallback)((d={},m=u,h=!0)=>e.logout(d).then(C=>{if(C===!1){t();return}let S=(C||m).split("?"),P={pathname:S[0]},g={};return h&&s.current&&s.current.pathname&&(g={state:{nextPathname:s.current.pathname,nextSearch:s.current.search}}),S[1]&&(P.search=S[1]),o.current(P,g),t(),C}),[e,t,u]),c=(0,Ne.useCallback)(d=>(r({pathname:u},{state:{nextPathname:a&&a.pathname}}),t(),Promise.resolve()),[t,a,r,u]);return e?l:c},"useLogout"),Oe=El;var Je=n(()=>{let e=ee(),t=k(),r=Oe(),o=ue(),a=ce(`${o}/${st.loginUrl}`),s=(0,$s.useCallback)((i={},u=!0,l=a,c=!1)=>e.checkAuth(i).catch(d=>{throw u&&(r({},d&&d.redirectTo?d.redirectTo:l),!(c||d&&d.message===!1)&&t(vl(d,"ra.auth.auth_check_error"),{type:"warning"})),d}),[e,r,t,a]);return e?s:bl},"useCheckAuth"),bl=n(()=>Promise.resolve(),"checkAuthWithoutAuthProvider"),vl=n((e,t)=>typeof e=="string"?e:typeof e>"u"||!e.message?t:e.message,"getErrorMessage");var wl={},Dl=n((e=wl)=>{let[t,r]=z({isLoading:!0,authenticated:!0}),o=Je();return(0,Zs.useEffect)(()=>{o(e,!1).then(()=>r({isLoading:!1,authenticated:!0})).catch(()=>r({isLoading:!1,authenticated:!1}))},[o,e,r]),t},"useAuthState"),$r=Dl;var qs=require("react");var Bs=require("react");var Il=n(()=>Promise.resolve([]),"getPermissionsWithoutProvider"),Al=n(()=>{let e=ee(),t=(0,Bs.useCallback)((r={})=>e.getPermissions(r),[e]);return e?t:Il},"useGetPermissions"),lt=Al;var Fl={},Nl=n((e=Fl)=>{let[t,r]=z({isLoading:!0}),o=lt();return(0,qs.useEffect)(()=>{o(e).then(a=>{r({isLoading:!1,permissions:a})}).catch(a=>{r({isLoading:!1,error:a})})},[o,e,r]),t},"usePermissions"),Zr=Nl;var Xs=require("react"),ei=L(require("lodash/isEqual"));var Ol={},Ks={"{}":void 0},Ul=n((e=Ol)=>{let t=JSON.stringify(e),[r,o]=z({permissions:Ks[t]}),a=lt();return(0,Xs.useEffect)(()=>{a(e).then(s=>{(0,ei.default)(s,r.permissions)||(Ks[t]=s,o({permissions:s}))}).catch(s=>{o({error:s})})},[a,t]),r},"usePermissionsOptimized"),Br=Ul;var qr=require("react");var ti=require("react");var oe=n((e={})=>{let{enabled:t=!0,params:r=jl}=e,o=Je();(0,ti.useEffect)(()=>{t&&o(r).catch(()=>{})},[o,t,r])},"useAuthenticated"),jl={};var ri=n(e=>qr.Children.count(e)===0,"isEmptyChildren"),kl=n(e=>{let l=e,{authParams:t,children:r,render:o,component:a,staticContext:s}=l,i=w(l,["authParams","children","render","component","staticContext"]);ut(o&&r&&!ri(r)||o&&a||a&&r&&!ri(r),"You should only use one of the `component`, `render` and `children` props in <WithPermissions>"),oe(t);let{permissions:u}=Br(t);if(a)return(0,qr.createElement)(a,p({permissions:u},i));if(o)return o(p({permissions:u},i));if(r)return r(p({permissions:u},i))},"WithPermissions"),Kr=kl;var Nn=require("react"),Xr=require("react-router-dom");var Vl=n(()=>{let e=ee(),r=(0,Xr.useLocation)().state,o=(0,Xr.useNavigate)(),a=ue(),{resetNotifications:s}=Ht(),i=r&&r.nextPathname,u=r&&r.nextSearch,l=ce(`${a}/${st.afterLoginUrl}`),c=(0,Nn.useCallback)((m={},h)=>e.login(m).then(C=>{s();let S=h||i+u||l;return o(S),C}),[e,o,i,u,s,l]),d=(0,Nn.useCallback)((m,h)=>(s(),o(l),Promise.resolve()),[o,s,l]);return e?c:d},"useLogin"),oi=Vl;var ai=require("react");var ni={id:"",fullName:null},Gl=n(()=>{let[e,t]=z({isLoading:!0}),r=ee();return(0,ai.useEffect)(()=>{r&&typeof r.getIdentity=="function"?n(async()=>{try{let a=await r.getIdentity();t({isLoading:!1,identity:a||ni})}catch(a){t({isLoading:!1,error:a})}},"callAuthProvider")():t({isLoading:!1,identity:ni})},[r,t]),e},"useGetIdentity"),si=Gl;var ui=require("react");var ci=require("react-router"),On,Ql=n(()=>{let e=ee(),t=Oe(),r=k(),o=(0,ci.useNavigate)(),a=(0,ui.useCallback)((s,i)=>e.checkError(s).then(()=>!1).catch(async u=>{let l=(u==null?void 0:u.logoutUser)??!0;if(On)return!0;On=setTimeout(()=>{On=void 0},0),!(i||u&&u.message===!1||s&&s.message===!1)&&e.checkAuth({}).then(()=>{l?r(ii(u,"ra.notification.logged_out"),{type:"warning"}):r(ii(u,"ra.notification.not_authorized"),{type:"warning"})}).catch(()=>{});let d=u&&u.redirectTo?u.redirectTo:s&&s.redirectTo?s.redirectTo:void 0;return l?t({},d):o(d),!0}),[e,t,r,o]);return e?a:_l},"useLogoutIfAccessDenied"),_l=n(()=>Promise.resolve(!1),"logoutIfAccessDeniedWithoutProvider"),ii=n((e,t)=>typeof e=="string"?e:typeof e>"u"||!e.message?t:e.message,"getErrorMessage"),eo=Ql;var Un="AUTH_LOGIN",jn="AUTH_CHECK",kn="AUTH_ERROR",Vn="AUTH_LOGOUT",Gn="AUTH_GET_PERMISSIONS";var to=n(e=>{let t=n((...r)=>e.apply(null,r),"authProvider");return t.login=r=>e(Un,r),t.logout=r=>e(Vn,r),t.checkAuth=r=>e(jn,r),t.checkError=r=>e(kn,r),t.getPermissions=r=>e(Gn,r),t},"default");var ro=L(require("react"));var zl=n(e=>{let{authParams:t,children:r}=e;return oe({params:t}),ro.createElement(ro.Fragment,null,r)},"Authenticated");var oo="GET_LIST",no="GET_ONE",ao="GET_MANY",so="GET_MANY_REFERENCE",io="CREATE",uo="UPDATE",co="UPDATE_MANY",lo="DELETE",po="DELETE_MANY",Qn=["getOne","create","update"],mo=["getList","getMany","getManyReference"],_n=[...mo,"updateMany","deleteMany"],zn=["getList","getManyReference"],Wl=n(e=>{switch(e){case oo:return"getList";case no:return"getOne";case ao:return"getMany";case so:return"getManyReference";case io:return"create";case uo:return"update";case co:return"updateMany";case lo:return"delete";case po:return"deleteMany";default:return e}},"sanitizeFetchType");var he=n(()=>Promise.resolve(),"defaultDataProvider");he.create=()=>Promise.resolve(null);he.delete=()=>Promise.resolve(null);he.deleteMany=()=>Promise.resolve(null);he.getList=()=>Promise.resolve(null);he.getMany=()=>Promise.resolve(null);he.getManyReference=()=>Promise.resolve(null);he.getOne=()=>Promise.resolve(null);he.update=()=>Promise.resolve(null);he.updateMany=()=>Promise.resolve(null);var li={create:io,delete:lo,deleteMany:po,getList:oo,getMany:ao,getManyReference:so,getOne:no,update:uo,updateMany:co},Hl=n(e=>new Proxy(he,{get(r,o){return(a,s)=>{if(Object.keys(li).includes(o.toString())){let i=li[o.toString()];return e(i,a,s)}return e(o.toString(),a,s)}},apply(r,o,a){return e.apply(e,a)}}),"convertLegacyDataProvider"),fo=Hl;var di=require("react"),pi=(0,di.createContext)(null);pi.displayName="DataProviderContext";var dt=pi;var pt=class extends Error{constructor(r,o,a=null){super(r);this.message=r;this.status=o;this.body=a;Object.setPrototypeOf(this,pt.prototype),this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(r).stack,this.stack=new Error().stack}};n(pt,"HttpError");var yo=pt;var Wn={};ja(Wn,{createHeadersFromOptions:()=>fi,fetchJson:()=>Yl,flattenObject:()=>yi,queryParameters:()=>Jl});var mi=require("query-string"),fi=n(e=>{let t=e.headers||new Headers({Accept:"application/json"});return!t.has("Content-Type")&&!(e&&(!e.method||e.method==="GET"))&&!(e&&e.body&&e.body instanceof FormData)&&t.set("Content-Type","application/json"),e.user&&e.user.authenticated&&e.user.token&&t.set("Authorization",e.user.token),t},"createHeadersFromOptions"),Yl=n((e,t={})=>{let r=fi(t);return fetch(e,v(p({},t),{headers:r})).then(o=>o.text().then(a=>({status:o.status,statusText:o.statusText,headers:o.headers,body:a}))).then(({status:o,statusText:a,headers:s,body:i})=>{let u;try{u=JSON.parse(i)}catch{}return o<200||o>=300?Promise.reject(new yo(u&&u.message||a,o,u)):Promise.resolve({status:o,headers:s,body:i,json:u})})},"fetchJson"),Jl=mi.stringify,$l=n(e=>{if(!e)return!1;let t=Array.isArray(e),r=typeof Buffer<"u"&&Buffer.isBuffer(e),o=Object.prototype.toString.call(e)==="[object Object]",a=!!Object.keys(e).length;return!t&&!r&&o&&a},"isValidObject"),yi=n((e,t=[])=>$l(e)?Object.assign({},...Object.keys(e).map(r=>yi(e[r],t.concat([r])))):t.length?{[t.join(".")]:e}:e,"flattenObject");var gi=L(require("eventemitter3")),xe=new gi.default;var $e={create:()=>Promise.resolve({data:null}),delete:()=>Promise.resolve({data:null}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:null}),update:()=>Promise.resolve({data:null}),updateMany:()=>Promise.resolve({data:[]})};var Zl=n(e=>new Proxy($e,{get:(t,r)=>(o,a)=>{if(!(typeof r=="symbol"||r==="then"))return e(o)[r](o,a)}}),"combineDataProviders");var Bl=n(e=>p({getList:()=>Promise.resolve({data:[],total:0}),getOne:()=>Promise.resolve({data:void 0}),getMany:()=>Promise.resolve({data:[]}),getManyReference:()=>Promise.resolve({data:[],total:0}),create:()=>Promise.resolve({data:void 0}),update:()=>Promise.resolve({data:void 0}),updateMany:()=>Promise.resolve({data:[]}),delete:()=>Promise.resolve({data:void 0}),deleteMany:()=>Promise.resolve({data:[]})},e),"testDataProvider");var go=require("react");function ql(e,t,r=console.error){if(!e)throw r(`The dataProvider returned an empty response for '${t}'.`),new Error("ra.notification.data_provider_error");if(!e.hasOwnProperty("data"))throw r(`The response to '${t}' must be like { data: ... }, but the received response does not have a 'data' key. The dataProvider is probably wrong for '${t}'.`),new Error("ra.notification.data_provider_error");if(_n.includes(t)&&!Array.isArray(e.data))throw r(`The response to '${t}' must be like { data : [...] }, but the received data is not an array. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(mo.includes(t)&&Array.isArray(e.data)&&e.data.length>0&&!e.data[0].hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data : [{ id: 123, ...}, ...] }, but the received data items do not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(Qn.includes(t)&&!e.data.hasOwnProperty("id"))throw r(`The response to '${t}' must be like { data: { id: 123, ... } }, but the received data does not have an 'id' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error");if(zn.includes(t)&&!e.hasOwnProperty("total")&&!e.hasOwnProperty("pageInfo"))throw r(`The response to '${t}' must be like  { data: [...], total: 123 }, but the received response does not have a 'total' key. The dataProvider is probably wrong for '${t}'`),new Error("ra.notification.data_provider_error")}n(ql,"validateResponseFormat");var Ri=ql;var W=n(()=>{let e=(0,go.useContext)(dt)||$e,t=eo();return(0,go.useMemo)(()=>new Proxy(e,{get:(o,a)=>{if(!(typeof a=="symbol"||a==="then"))return(...s)=>{let i=a.toString();if(typeof e[i]!="function")throw new Error(`Unknown dataProvider function: ${i}`);try{return e[i].apply(e,s).then(u=>(process.env.NODE_ENV!=="production"&&Ri(u,i),u)).catch(u=>(process.env.NODE_ENV!=="production"&&console.error(u),t(u).then(l=>{if(!l)throw u})))}catch(u){throw process.env.NODE_ENV!=="production"&&console.error(u),new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}}}),[e,t])},"useDataProvider");var Ro=require("react"),Po=require("react-query"),Kl=n((e,t={})=>{let{enabled:r=!0}=t,o=(0,Po.useQueryClient)(),[a,s]=(0,Ro.useState)(()=>r?o.getQueryData(e)!==void 0:!1);return(0,Ro.useEffect)(()=>{if(!!r&&o.getQueryData(e)===void 0){let u=new Po.QueryObserver(o,{queryKey:e}).subscribe(l=>{s(!l.isLoading),u()});return u}},[r,e,o]),a},"useIsDataLoaded");var mt=L(require("react")),Kt=require("react-query"),Xl=n(()=>{let e=(0,Kt.useQueryClient)(),t=mt.default.useRef(!1),r=mt.default.useRef(e.isFetching()>0),o=mt.default.useRef(e.isMutating()>0),[a,s]=mt.default.useState(r.current||o.current);return mt.default.useEffect(()=>{t.current=!0;let i=e.getQueryCache().subscribe(Kt.notifyManager.batchCalls(()=>{t.current&&(r.current=e.isFetching()>0,s(r.current||o.current))})),u=e.getMutationCache().subscribe(Kt.notifyManager.batchCalls(()=>{t.current&&(o.current=e.isMutating()>0,s(r.current||o.current))}));return()=>{t.current=!1,i(),u()}},[e]),a},"useLoading");var Pi=require("react"),hi=require("react-query"),Xt=n(()=>{let e=(0,hi.useQueryClient)();return(0,Pi.useCallback)(()=>{e.invalidateQueries()},[e])},"useRefresh");var xi=require("react-query");var er=n((e,{id:t,meta:r},o)=>{let a=W();return(0,xi.useQuery)([e,"getOne",{id:String(t),meta:r}],()=>a.getOne(e,{id:t,meta:r}).then(({data:s})=>s),o)},"useGetOne");var ho=require("react-query");var Ze=n((e,t={},r)=>{var d,m,h;let{pagination:o={page:1,perPage:25},sort:a={field:"id",order:"DESC"},filter:s={},meta:i}=t,u=W(),l=(0,ho.useQueryClient)(),c=(0,ho.useQuery)([e,"getList",{pagination:o,sort:a,filter:s,meta:i}],()=>u.getList(e,{pagination:o,sort:a,filter:s,meta:i}).then(({data:C,total:S,pageInfo:P})=>({data:C,total:S,pageInfo:P})),p({onSuccess:({data:C})=>{C.forEach(S=>{l.setQueryData([e,"getOne",{id:String(S.id),meta:i}],P=>P??S)})}},r));return c.data?v(p({},c),{data:(d=c.data)==null?void 0:d.data,total:(m=c.data)==null?void 0:m.total,pageInfo:(h=c.data)==null?void 0:h.pageInfo}):c},"useGetList");var ft=require("react-query");var ed=n((e,t={},r)=>{let{ids:o,meta:a}=t,s=W(),i=(0,ft.useQueryClient)(),u=i.getQueryCache();return(0,ft.useQuery)([e,"getMany",{ids:o.map(l=>String(l)),meta:a}],()=>!o||o.length===0?Promise.resolve([]):s.getMany(e,{ids:o,meta:a}).then(({data:l})=>l),p({placeholderData:()=>{let l=o.map(c=>{var m,h;let d=(0,ft.hashQueryKey)([e,"getOne",{id:String(c),meta:a}]);return(h=(m=u.get(d))==null?void 0:m.state)==null?void 0:h.data});if(!l.some(c=>c===void 0))return l},onSuccess:l=>{l.forEach(c=>{i.setQueryData([e,"getOne",{id:String(c.id),meta:a}],d=>d??c)})},retry:!1},r))},"useGetMany");var Ci=require("react"),yt=require("react-query"),Mi=L(require("lodash/union"));var Be=n((e,t,r={})=>{let o=W(),a=(0,yt.useQueryClient)(),s=a.getQueryCache(),{ids:i,meta:u}=t,l=(0,Ci.useMemo)(()=>{let c=i.map(d=>{var h,C;let m=(0,yt.hashQueryKey)([e,"getOne",{id:String(d),meta:u}]);return(C=(h=s.get(m))==null?void 0:h.state)==null?void 0:C.data});if(!c.some(d=>d===void 0))return c},[i,s,e,u]);return(0,yt.useQuery)([e,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>new Promise((c,d)=>!i||i.length===0?c([]):rd({resource:e,ids:i,meta:u,resolve:c,reject:d,dataProvider:o,queryClient:a})),p({placeholderData:l,onSuccess:c=>{c.forEach(d=>{a.setQueryData([e,"getOne",{id:String(d.id),meta:u}],m=>m??d)})},retry:!1},r))},"useGetManyAggregate"),td=n(e=>{let t=[],r=null;return o=>{t.push(o),r&&clearTimeout(r),r=setTimeout(()=>{r=null,e([...t]),t=[]},0)}},"batch"),rd=td(e=>{let t=e[0].dataProvider,r=e[0].queryClient,o=e.reduce((a,s)=>(a[s.resource]||(a[s.resource]=[]),a[s.resource].push(s),a),{});Object.keys(o).forEach(a=>{let s=o[a],i=s.reduce((c,{ids:d})=>(0,Mi.default)(c,d),[]).filter(c=>c!=null&&c!==""),u=s.reduce((c,{meta:d})=>d||c,void 0);if(i.length===0){s.forEach(({resolve:c})=>{c([])});return}let l=s.find(({ids:c})=>JSON.stringify(c)===JSON.stringify(i));if(l){let{dataProvider:c,resource:d,ids:m,meta:h}=l;c.getMany(d,{ids:m,meta:h}).then(({data:C})=>C).then(C=>{s.forEach(({ids:S,resolve:P})=>{P(C.filter(g=>S.map(f=>String(f)).includes(String(g.id))))})},C=>{s.forEach(({reject:S})=>{S(C)})});return}r.fetchQuery([a,"getMany",{ids:i.map(c=>String(c)),meta:u}],()=>t.getMany(a,{ids:i,meta:u}).then(({data:c})=>c)).then(c=>{s.forEach(({ids:d,resolve:m})=>{m(c.filter(h=>d.map(C=>String(C)).includes(String(h.id))))})}).catch(c=>s.forEach(({reject:d})=>d(c)))})});var xo=require("react-query");var tr=n((e,t={},r)=>{var h,C,S;let{target:o,id:a,pagination:s={page:1,perPage:25},sort:i={field:"id",order:"DESC"},filter:u={},meta:l}=t,c=W(),d=(0,xo.useQueryClient)(),m=(0,xo.useQuery)([e,"getManyReference",{target:o,id:a,pagination:s,sort:i,filter:u,meta:l}],()=>c.getManyReference(e,{target:o,id:a,pagination:s,sort:i,filter:u,meta:l}).then(({data:P,total:g,pageInfo:f})=>({data:P,total:g,pageInfo:f})),p({onSuccess:({data:P})=>{P.forEach(g=>{d.setQueryData([e,"getOne",{id:String(g.id),meta:l}],f=>f??g)})}},r));return m.data?v(p({},m),{data:(h=m.data)==null?void 0:h.data,total:(C=m.data)==null?void 0:C.total,pageInfo:(S=m.data)==null?void 0:S.pageInfo}):m},"useGetManyReference");var Ti=require("react"),Co=require("react-query");var Hn=n((e,t={},r={})=>{let o=W(),a=(0,Co.useQueryClient)(),s=(0,Ti.useRef)(t),i=(0,Co.useMutation)(({resource:l=e,data:c=s.current.data,meta:d=s.current.meta}={})=>o.create(l,{data:c,meta:d}).then(({data:m})=>m),v(p({},r),{onSuccess:(l,c={},d)=>{let{resource:m=e}=c;a.setQueryData([m,"getOne",{id:String(l.id)}],l),r.onSuccess&&r.onSuccess(l,c,d)}}));return[n((l=e,c={},d={})=>{let C=d,{returnPromise:m}=C,h=w(C,["returnPromise"]);if(m)return i.mutateAsync(p({resource:l},c),d);i.mutate(p({resource:l},c),h)},"create"),i]},"useCreate");var Mo=require("react"),To=require("react-query");var Yn=n((e,t={},r={})=>{let o=W(),a=(0,To.useQueryClient)(),{id:s,data:i,meta:u}=t,g=r,{mutationMode:l="pessimistic"}=g,c=w(g,["mutationMode"]),d=(0,Mo.useRef)(l),m=(0,Mo.useRef)(t),h=(0,Mo.useRef)([]),C=n(({resource:f,id:y,data:M})=>{let x=Date.now(),R=d.current==="undoable"?x+5*1e3:x,E=n(T=>{if(!T)return;let b=T.findIndex(I=>I.id==y);return b===-1?T:[...T.slice(0,b),p(p({},T[b]),M),...T.slice(b+1)]},"updateColl");a.setQueryData([f,"getOne",{id:String(y),meta:u}],T=>p(p({},T),M),{updatedAt:R}),a.setQueriesData([f,"getList"],T=>T&&T.data?{data:E(T.data),total:T.total}:T,{updatedAt:R}),a.setQueriesData([f,"getMany"],T=>T&&T.length>0?E(T):T,{updatedAt:R}),a.setQueriesData([f,"getManyReference"],T=>T&&T.data?{data:E(T.data),total:T.total}:T,{updatedAt:R})},"updateCache"),S=(0,To.useMutation)(({resource:f=e,id:y=m.current.id,data:M=m.current.data,meta:x=m.current.meta,previousData:R=m.current.previousData}={})=>o.update(f,{id:y,data:M,previousData:R,meta:x}).then(({data:E})=>E),v(p({},c),{onMutate:async f=>{if(c.onMutate){let y=await c.onMutate(f)||{};return p({snapshot:h.current},y)}else return{snapshot:h.current}},onError:(f,y={},M)=>{if((d.current==="optimistic"||d.current==="undoable")&&M.snapshot.forEach(([x,R])=>{a.setQueryData(x,R)}),c.onError)return c.onError(f,y,M)},onSuccess:(f,y={},M)=>{if(d.current==="pessimistic"){let{resource:x=e,id:R=s}=y;C({resource:x,id:R,data:f}),c.onSuccess&&c.onSuccess(f,y,M)}},onSettled:(f,y,M={},x)=>{if((d.current==="optimistic"||d.current==="undoable")&&x.snapshot.forEach(([R])=>{a.invalidateQueries(R)}),c.onSettled)return c.onSettled(f,y,M,x)}}));return[n(async(f=e,y={},M={})=>{let{mutationMode:x,returnPromise:R,onSuccess:E,onSettled:T,onError:b}=M;if(m.current=t,x&&(d.current=x),R&&d.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),d.current==="pessimistic")return R?S.mutateAsync(p({resource:f},y),{onSuccess:E,onSettled:T,onError:b}):S.mutate(p({resource:f},y),{onSuccess:E,onSettled:T,onError:b});let{id:I=s,data:A=i,meta:N=u}=y,D=a.getQueryData([f,"getOne",{id:String(I),meta:N}]),F=[[f,"getOne",{id:String(I),meta:N}],[f,"getList"],[f,"getMany"],[f,"getManyReference"]];if(h.current=F.reduce((j,J)=>j.concat(a.getQueriesData(J)),[]),await Promise.all(h.current.map(([j])=>a.cancelQueries(j))),C({resource:f,id:I,data:A}),E&&setTimeout(()=>E(p(p({},D),A),p({resource:f},y),{snapshot:h.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(p(p({},D),A),p({resource:f},y),{snapshot:h.current}),0),d.current==="optimistic")return S.mutate(p({resource:f},y),{onSettled:T,onError:b});xe.once("end",({isUndo:j})=>{j?h.current.forEach(([J,Me])=>{a.setQueryData(J,Me)}):S.mutate(p({resource:f},y),{onSettled:T,onError:b})})},"update"),S]},"useUpdate");var So=require("react"),Lo=require("react-query");var od=n((e,t={},r={})=>{let o=W(),a=(0,Lo.useQueryClient)(),{ids:s,data:i,meta:u}=t,g=r,{mutationMode:l="pessimistic"}=g,c=w(g,["mutationMode"]),d=(0,So.useRef)(l),m=(0,So.useRef)(t),h=(0,So.useRef)([]),C=n(async({resource:f,ids:y,data:M,meta:x})=>{let R=d.current==="undoable"?Date.now()+5e3:Date.now(),E=n(T=>{if(!T)return;let b=[...T];return y.forEach(I=>{let A=T.findIndex(N=>N.id==I);A!==-1&&(b=[...b.slice(0,A),p(p({},b[A]),M),...b.slice(A+1)])}),b},"updateColl");y.forEach(T=>a.setQueryData([f,"getOne",{id:String(T),meta:x}],b=>p(p({},b),M),{updatedAt:R})),a.setQueriesData([f,"getList"],T=>T&&T.data?{data:E(T.data),total:T.total}:T,{updatedAt:R}),a.setQueriesData([f,"getMany"],T=>T&&T.length>0?E(T):T,{updatedAt:R}),a.setQueriesData([f,"getManyReference"],T=>T&&T.data?{data:E(T.data),total:T.total}:T,{updatedAt:R})},"updateCache"),S=(0,Lo.useMutation)(({resource:f=e,ids:y=m.current.ids,data:M=m.current.data,meta:x=m.current.meta}={})=>o.updateMany(f,{ids:y,data:M,meta:x}).then(({data:R})=>R),v(p({},c),{onMutate:async f=>{if(c.onMutate){let y=await c.onMutate(f)||{};return p({snapshot:h.current},y)}else return{snapshot:h.current}},onError:(f,y={},M)=>{if((d.current==="optimistic"||d.current==="undoable")&&M.snapshot.forEach(([x,R])=>{a.setQueryData(x,R)}),c.onError)return c.onError(f,y,M)},onSuccess:(f,y={},M)=>{if(d.current==="pessimistic"){let{resource:x=e,ids:R=s,meta:E=u}=y;C({resource:x,ids:R,data:f,meta:E}),c.onSuccess&&c.onSuccess(f,y,M)}},onSettled:(f,y,M={},x)=>{if((d.current==="optimistic"||d.current==="undoable")&&x.snapshot.forEach(([R])=>{a.invalidateQueries(R)}),c.onSettled)return c.onSettled(f,y,M,x)}}));return[n(async(f=e,y={},M={})=>{let{mutationMode:x,returnPromise:R,onSuccess:E,onSettled:T,onError:b}=M;if(m.current=t,x&&(d.current=x),R&&d.current!=="pessimistic"&&console.warn("The returnPromise parameter can only be used if the mutationMode is set to pessimistic"),d.current==="pessimistic")return R?S.mutateAsync(p({resource:f},y),{onSuccess:E,onSettled:T,onError:b}):S.mutate(p({resource:f},y),{onSuccess:E,onSettled:T,onError:b});let{ids:I=s,data:A=i,meta:N=u}=y,D=[[f,"getOne"],[f,"getList"],[f,"getMany"],[f,"getManyReference"]];if(h.current=D.reduce((F,j)=>F.concat(a.getQueriesData(j)),[]),await Promise.all(h.current.map(([F])=>a.cancelQueries(F))),await C({resource:f,ids:I,data:A,meta:N}),E&&setTimeout(()=>E(I,p({resource:f},y),{snapshot:h.current}),0),c.onSuccess&&setTimeout(()=>c.onSuccess(I,p({resource:f},y),{snapshot:h.current}),0),d.current==="optimistic")return S.mutate(p({resource:f},y),{onSettled:T,onError:b});xe.once("end",({isUndo:F})=>{F?h.current.forEach(([j,J])=>{a.setQueryData(j,J)}):S.mutate(p({resource:f},y),{onSettled:T,onError:b})})},"updateMany"),S]},"useUpdateMany");var Eo=require("react"),bo=require("react-query");var rr=n((e,t={},r={})=>{let o=W(),a=(0,bo.useQueryClient)(),{id:s,previousData:i}=t,P=r,{mutationMode:u="pessimistic"}=P,l=w(P,["mutationMode"]),c=(0,Eo.useRef)(u),d=(0,Eo.useRef)(t),m=(0,Eo.useRef)([]),h=n(({resource:g,id:f})=>{let y=Date.now(),M=c.current==="undoable"?y+5*1e3:y,x=n(R=>{if(!R)return;let E=R.findIndex(T=>T.id==f);return E===-1?R:[...R.slice(0,E),...R.slice(E+1)]},"updateColl");a.setQueriesData([g,"getList"],R=>{if(!R||!R.data)return R;let E=x(R.data);return E.length<R.data.length?{data:E,total:R.total-1}:R},{updatedAt:M}),a.setQueriesData([g,"getMany"],R=>R&&R.length>0?x(R):R,{updatedAt:M}),a.setQueriesData([g,"getManyReference"],R=>{if(!R||!R.data)return R;let E=x(R.data);return E.length<R.data.length?{data:E,total:R.total-1}:R},{updatedAt:M})},"updateCache"),C=(0,bo.useMutation)(({resource:g=e,id:f=d.current.id,previousData:y=d.current.previousData,meta:M=d.current.meta}={})=>o.delete(g,{id:f,previousData:y,meta:M}).then(({data:x})=>x),v(p({},l),{onMutate:async g=>{if(l.onMutate){let f=await l.onMutate(g)||{};return p({snapshot:m.current},f)}else return{snapshot:m.current}},onError:(g,f={},y)=>{if((c.current==="optimistic"||c.current==="undoable")&&y.snapshot.forEach(([M,x])=>{a.setQueryData(M,x)}),l.onError)return l.onError(g,f,y)},onSuccess:(g,f={},y)=>{if(c.current==="pessimistic"){let{resource:M=e,id:x=s}=f;h({resource:M,id:x}),l.onSuccess&&l.onSuccess(g,f,y)}},onSettled:(g,f,y={},M)=>{if((c.current==="optimistic"||c.current==="undoable")&&M.snapshot.forEach(([x])=>{a.invalidateQueries(x)}),l.onSettled)return l.onSettled(g,f,y,M)}}));return[n(async(g=e,f={},y={})=>{let{mutationMode:M,onSuccess:x,onSettled:R,onError:E}=y;if(d.current=t,M&&(c.current=M),c.current==="pessimistic")return C.mutate(p({resource:g},f),{onSuccess:x,onSettled:R,onError:E});let{id:T=s,previousData:b=i}=f,I=[[g,"getList"],[g,"getMany"],[g,"getManyReference"]];if(m.current=I.reduce((A,N)=>A.concat(a.getQueriesData(N)),[]),await Promise.all(m.current.map(([A])=>a.cancelQueries(A))),h({resource:g,id:T}),x&&setTimeout(()=>x(b,p({resource:g},f),{snapshot:m.current}),0),l.onSuccess&&setTimeout(()=>l.onSuccess(b,p({resource:g},f),{snapshot:m.current}),0),c.current==="optimistic")return C.mutate(p({resource:g},f),{onSettled:R,onError:E});xe.once("end",({isUndo:A})=>{A?m.current.forEach(([N,D])=>{a.setQueryData(N,D)}):C.mutate(p({resource:g},f),{onSettled:R,onError:E})})},"mutate"),C]},"useDelete");var vo=require("react"),wo=require("react-query");var nd=n((e,t={},r={})=>{let o=W(),a=(0,wo.useQueryClient)(),{ids:s}=t,S=r,{mutationMode:i="pessimistic"}=S,u=w(S,["mutationMode"]),l=(0,vo.useRef)(i),c=(0,vo.useRef)({}),d=(0,vo.useRef)([]),m=n(({resource:P,ids:g})=>{let f=Date.now(),y=l.current==="undoable"?f+5*1e3:f,M=n(x=>{if(!x)return;let R=[...x];return g.forEach(E=>{let T=R.findIndex(b=>b.id==E);T!==-1&&(R=[...R.slice(0,T),...R.slice(T+1)])}),R},"updateColl");a.setQueriesData([P,"getList"],x=>{if(!x||!x.data)return x;let R=M(x.data);return R.length<x.data.length?{data:R,total:x.total-(x.data.length-R.length)}:x},{updatedAt:y}),a.setQueriesData([P,"getMany"],x=>x&&x.length>0?M(x):x,{updatedAt:y}),a.setQueriesData([P,"getManyReference"],x=>{if(!x||!x.data)return x;let R=M(x.data);return R.length<x.data.length?{data:R,total:x.total-(x.data.length-R.length)}:x},{updatedAt:y})},"updateCache"),h=(0,wo.useMutation)(({resource:P=e,ids:g=c.current.ids,meta:f=c.current.meta}={})=>o.deleteMany(P,{ids:g,meta:f}).then(({data:y})=>y),v(p({},u),{onMutate:async P=>{if(u.onMutate){let g=await u.onMutate(P)||{};return p({snapshot:d.current},g)}else return{snapshot:d.current}},onError:(P,g={},f)=>{if((l.current==="optimistic"||l.current==="undoable")&&f.snapshot.forEach(([y,M])=>{a.setQueryData(y,M)}),u.onError)return u.onError(P,g,f)},onSuccess:(P,g={},f)=>{if(l.current==="pessimistic"){let{resource:y=e,ids:M=s}=g;m({resource:y,ids:M}),u.onSuccess&&u.onSuccess(P,g,f)}},onSettled:(P,g,f={},y)=>{if((l.current==="optimistic"||l.current==="undoable")&&y.snapshot.forEach(([M])=>{a.invalidateQueries(M)}),u.onSettled)return u.onSettled(P,g,f,y)}}));return[n(async(P=e,g={},f={})=>{let{mutationMode:y,onSuccess:M,onSettled:x,onError:R}=f;if(c.current=t,y&&(l.current=y),l.current==="pessimistic")return h.mutate(p({resource:P},g),{onSuccess:M,onSettled:x,onError:R});let{ids:E=s}=g,T=[[P,"getList"],[P,"getMany"],[P,"getManyReference"]];if(d.current=T.reduce((b,I)=>b.concat(a.getQueriesData(I)),[]),await Promise.all(d.current.map(([b])=>a.cancelQueries(b))),m({resource:P,ids:E}),M&&setTimeout(()=>M(E,p({resource:P},g),{snapshot:d.current}),0),u.onSuccess&&setTimeout(()=>u.onSuccess(E,p({resource:P},g),{snapshot:d.current}),0),l.current==="optimistic")return h.mutate(p({resource:P},g),{onSettled:x,onError:R});xe.once("end",({isUndo:b})=>{b?d.current.forEach(([I,A])=>{a.setQueryData(I,A)}):h.mutate(p({resource:P},g),{onSettled:x,onError:R})})},"mutate"),h]},"useDeleteMany");var Si=L(require("react")),Ee=require("react"),Li=L(require("lodash/isEqual")),Do=(0,Ee.createContext)({definitions:{},register:()=>{},unregister:()=>{}}),Jn=n(({definitions:e={},children:t})=>{let[r,o]=(0,Ee.useState)(e),a=(0,Ee.useCallback)(u=>{o(l=>(0,Li.default)(l[u.name],u)?l:v(p({},l),{[u.name]:u}))},[]),s=(0,Ee.useCallback)(u=>{o(l=>{var m;let h=l,{[m=u.name]:c}=h;return w(h,[Ie(m)])})},[]),i=(0,Ee.useMemo)(()=>({definitions:r,register:a,unregister:s}),[r]);return Si.createElement(Do.Provider,{value:i},t)},"ResourceDefinitionContextProvider");var Fo=n(e=>{let{authProvider:t,basename:r,dataProvider:o,i18nProvider:a,store:s,children:i,history:u,queryClient:l}=e;if(!o)throw new Error(`Missing dataProvider prop.
React-admin requires a valid dataProvider function to work.`);let c=(0,Io.useMemo)(()=>l||new Ao.QueryClient,[l]),d=(0,Io.useMemo)(()=>t instanceof Function?to(t):t,[t]),m=(0,Io.useMemo)(()=>o instanceof Function?fo(o):o,[o]);return be.createElement(at.Provider,{value:d},be.createElement(dt.Provider,{value:m},be.createElement(Cn,{value:s},be.createElement(Ao.QueryClientProvider,{client:c},be.createElement(Rn,{history:u,basename:r},be.createElement(Jt,{value:a},be.createElement(Mn,null,be.createElement(Jn,null,i))))))))},"CoreAdminContext");Fo.defaultProps={dataProvider:$e,store:_t()};var Ue=L(require("react")),Rt=require("react"),ar=require("react-router-dom");var Y=L(require("react")),gt=require("react"),ne=require("react-router-dom");var bi=L(require("react")),pe=require("react");var Ei=require("react");var or=n(()=>(0,Ei.useContext)(Do),"useResourceDefinitionContext");var vi=n(e=>{let{permissions:t,isLoading:r}=Zr(),[o,a]=ad(e,t,r);return id(o.resources,t),{customRoutesWithLayout:o.customRoutesWithLayout,customRoutesWithoutLayout:o.customRoutesWithoutLayout,status:a,resources:o.resources}},"useConfigureAdminRouterFromChildren"),ad=n((e,t,r)=>{let o=Oe(),{authenticated:a}=$r(),[s,i,u]=sd(nr(e)),[l,c]=z(()=>ud(p({children:e},s)));return(0,pe.useEffect)(()=>{let d=n(async h=>{try{let C=h(t);C!=null&&C.then?C.then(S=>{u(nr(S)),c("ready")}):(u(nr(C)),c("ready"))}catch(C){console.error(C),o()}},"resolveChildFunction");r||n(async()=>{let h=wi(e),C=nr(e);i(C),c(h?"loading":C.resources.length>0?"ready":"empty"),h&&d(h)},"updateFromChildren")()},[a,e,o,r,u,t,i,c]),[s,l]},"useRoutesAndResourcesFromChildren"),sd=n(e=>{let[t,r]=(0,pe.useState)(e),o=(0,pe.useCallback)(a=>{r(s=>({customRoutesWithLayout:s.customRoutesWithLayout.concat(a.customRoutesWithLayout),customRoutesWithoutLayout:s.customRoutesWithoutLayout.concat(a.customRoutesWithoutLayout),resources:s.resources.concat(a.resources)}))},[]);return[t,r,o]},"useRoutesAndResourcesState"),id=n((e,t)=>{let{register:r,unregister:o}=or();(0,pe.useEffect)(()=>(e.forEach(a=>{if(typeof a.type.registerResource=="function"){let s=a.type.registerResource(a.props,t);r(s)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")}),()=>{e.forEach(a=>{if(typeof a.type.registerResource=="function"){let s=a.type.registerResource(a.props,t);o(s)}else throw new Error("When using a custom Resource element, it must have a static registerResource method accepting its props and returning a ResourceDefinition")})}),[t,r,e,o])},"useRegisterResources"),ud=n(({children:e,resources:t,customRoutesWithLayout:r,customRoutesWithoutLayout:o})=>wi(e)?"loading":t.length>0||r.length>0||o.length>0?"ready":"empty","getStatus"),wi=n(e=>{let r=(Array.isArray(e)?e:[e]).filter(o=>typeof o=="function");if(r.length>1)throw new Error("You can only provide one function child to AdminRouter");return r.length===0?null:r[0]},"getSingleChildFunction"),nr=n(e=>{let t=[],r=[],o=[];return pe.Children.forEach(e,a=>{if(!!bi.isValidElement(a)){if(a.type===pe.Fragment){let s=nr(a.props.children);t.push(...s.customRoutesWithLayout),r.push(...s.customRoutesWithoutLayout),o.push(...s.resources)}if(a.type.raName==="CustomRoutes"){let s=a;s.props.noLayout?r.push(s.props.children):t.push(s.props.children)}else a.type.raName==="Resource"&&o.push(a)}}),{customRoutesWithLayout:t,customRoutesWithoutLayout:r,resources:o}},"getRoutesAndResourceFromNodes");var No=n(e=>{let t=wn(1e3);Pn();let r=Qt(),{customRoutesWithLayout:o,customRoutesWithoutLayout:a,status:s,resources:i}=vi(e.children),{layout:u,catchAll:l,dashboard:c,loading:d,menu:m,requireAuth:h,ready:C,title:S}=e,[P,g]=(0,gt.useState)(!h),f=Je();return(0,gt.useEffect)(()=>{h&&f().then(()=>{g(!0)}).catch(()=>{})},[f,h]),s==="empty"?Y.createElement(C,null):s==="loading"||!P?Y.createElement(ne.Routes,null,a,t?Y.createElement(ne.Route,{path:"*",element:Y.createElement(d,null)}):Y.createElement(ne.Route,{path:"*",element:null})):Y.createElement(ne.Routes,null,a,Y.createElement(ne.Route,{path:"/*",element:Y.createElement("div",null,Y.createElement(u,{dashboard:c,menu:m,title:S},Y.createElement(ne.Routes,null,o,gt.Children.map(i,y=>Y.createElement(ne.Route,{key:y.props.name,path:`${y.props.name}/*`,element:y})),Y.createElement(ne.Route,{path:"/",element:c?Y.createElement(Kr,{authParams:cd,component:c}):i.length>0?Y.createElement(ne.Navigate,{to:r({resource:i[0].props.name,type:"list"})}):null}),Y.createElement(ne.Route,{path:"*",element:Y.createElement(l,{title:S})}))))}))},"CoreAdminRoutes");No.defaultProps={customRoutes:[]};var cd={route:"dashboard"};var ld=n(({children:e})=>Ue.createElement(Ue.Fragment,null,e),"DefaultLayout"),$n=n(e=>{let{catchAll:t=Di,children:r,dashboard:o,disableTelemetry:a=!1,layout:s=ld,loading:i=Di,loginPage:u=!1,menu:l,ready:c=Wr,title:d="React Admin",requireAuth:m=!1}=e;return(0,Rt.useEffect)(()=>{if(a||process.env.NODE_ENV!=="production"||typeof window>"u"||typeof window.location>"u"||typeof Image>"u")return;let h=new Image;h.src=`https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain=${window.location.hostname}`},[a]),Ue.createElement(ar.Routes,null,u!==!1&&u!==!0?Ue.createElement(ar.Route,{path:"/login",element:dd(u)}):null,Ue.createElement(ar.Route,{path:"/*",element:Ue.createElement(No,{catchAll:t,dashboard:o,layout:s,loading:i,menu:l,requireAuth:m,ready:c,title:d},r)}))},"CoreAdminUI"),dd=n(e=>(0,Rt.isValidElement)(e)?e:(0,Rt.createElement)(e),"createOrGetElement"),Di=n(()=>null,"Noop");var pd=n(e=>{let{authProvider:t,basename:r,catchAll:o,children:a,dashboard:s,dataProvider:i,disableTelemetry:u,history:l,i18nProvider:c,queryClient:d,layout:m,loading:h,loginPage:C,menu:S,ready:P,requireAuth:g,title:f="React Admin"}=e;return Zn.createElement(Fo,{authProvider:t,basename:r,dataProvider:i,i18nProvider:c,queryClient:d,history:l},Zn.createElement($n,{layout:m,dashboard:s,disableTelemetry:u,menu:S,catchAll:o,title:f,loading:h,loginPage:C,requireAuth:g,ready:P},a))},"CoreAdmin");var Ii=n(e=>null,"CustomRoutes");Ii.raName="CustomRoutes";var fe=L(require("react")),ir=require("react"),qe=require("react-router-dom");var Fi=L(require("react"));var Ai=require("react"),sr=(0,Ai.createContext)(void 0);var me=n(({children:e,value:t})=>t?Fi.createElement(sr.Provider,{value:t},e):e,"ResourceContextProvider");var Bn=n(e=>{let{create:t,edit:r,list:o,name:a,show:s}=e;return fe.createElement(me,{value:a},fe.createElement(qe.Routes,null,t&&fe.createElement(qe.Route,{path:"create/*",element:(0,ir.isValidElement)(t)?t:fe.createElement(t,null)}),s&&fe.createElement(qe.Route,{path:":id/show/*",element:(0,ir.isValidElement)(s)?s:fe.createElement(s,null)}),r&&fe.createElement(qe.Route,{path:":id/*",element:(0,ir.isValidElement)(r)?r:fe.createElement(r,null)}),o&&fe.createElement(qe.Route,{path:"/*",element:(0,ir.isValidElement)(o)?o:fe.createElement(o,null)})))},"Resource");Bn.raName="Resource";Bn.registerResource=({create:e,edit:t,icon:r,list:o,name:a,options:s,show:i})=>({name:a,options:s,hasList:!!o,hasCreate:!!e,hasEdit:!!t,hasShow:!!i,icon:r});var Oo=L(require("inflection"));var ur=n(()=>or().definitions,"useResourceDefinitions");var ve=n(()=>{let e=Q(),t=ur();return(r,o=2)=>{let a=t[r];return e(`resources.${r}.name`,{smart_count:o,_:a&&a.options&&a.options.label?e(a.options.label,{smart_count:o,_:a.options.label}):Oo.default.humanize(o>1?Oo.default.pluralize(r):Oo.default.singularize(r))})}},"useGetResourceLabel");var Ni=require("react");var _=n(e=>{let t=(0,Ni.useContext)(sr);return e&&e.resource||t},"useResourceContext");var Oi=require("react"),Ui=L(require("lodash/defaults"));var qn=n(e=>{let t=_(e),r=ur(),{hasCreate:o,hasEdit:a,hasList:s,hasShow:i}=e||{};return(0,Oi.useMemo)(()=>(0,Ui.default)({},{hasCreate:o,hasEdit:a,hasList:s,hasShow:i},r[t]),[t,r,o,a,s,i])},"useResourceDefinition");var ji=L(require("jsonexport/dist"));var Uo=n((e,t)=>{let r=document.createElement("a");r.style.display="none",document.body.appendChild(r);let o=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(o,`${t}.csv`):(r.setAttribute("href",URL.createObjectURL(o)),r.setAttribute("download",`${t}.csv`),r.click())},"default");var md=n((e,t,r,o)=>(0,ji.default)(e,(a,s)=>Uo(s,o)),"defaultExporter"),Pt=md;var ki=require("react");var Vi=(0,ki.createContext)(Pt);Vi.displayName="ExporterContext";var Gi=Vi;var fd=n(e=>(t,r,o)=>e.getMany(o,{ids:yd(t,r)}).then(({data:a})=>a.reduce((s,i)=>(s[i.id]=i,s),{})),"fetchRelatedRecords"),yd=n((e,t)=>Array.from(new Set(e.filter(r=>r[t]!=null).map(r=>r[t]).reduce((r,o)=>r.concat(o),[]))),"getRelatedIds"),Qi=fd;var Hi=L(require("react")),pr=L(require("inflection"));var je=n(e=>e.reduce((t,r)=>(Object.keys(r).forEach(o=>{if(t[o]||(t[o]=[]),r[o]!=null){let a=Array.isArray(r[o])?[r[o]]:r[o];t[o]=t[o].concat(a)}}),t),{}),"default");var Kn=require("react"),jo=class{constructor(t,r,o){this.type=t;this.props=r;this.children=o}getElement(t={}){if(!!this.isDefined())return this.children?(0,Kn.createElement)(this.type.component,p(p({},this.props),t),this.children.length>0?this.children.map((r,o)=>r.getElement({key:o})):this.children.getElement()):(0,Kn.createElement)(this.type.component,p(p({},this.props),t))}getProps(){return this.props}isDefined(){return!!this.type}getRepresentation(){if(!!this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):`<${this.type.component.displayName||this.type.component.name} source="${this.props.source}" />`}};n(jo,"InferredElement");var G=jo;var Ke=require("date-fns"),gd=n(e=>!isNaN(parseFloat(e))&&isFinite(e),"isNumeric"),cr=n(e=>e.every(gd),"valuesAreNumeric"),Rd=n(e=>Number.isInteger(e)||!isNaN(parseInt(e)),"isInteger"),lr=n(e=>e.every(Rd),"valuesAreInteger"),Pd=n(e=>typeof e=="boolean","isBoolean"),ko=n(e=>e.every(Pd),"valuesAreBoolean");var hd=n(e=>typeof e=="string","isString"),Vo=n(e=>e.every(hd),"valuesAreString"),xd=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,Cd=n(e=>!e||xd.test(e),"isHtml"),Go=n(e=>e.every(Cd),"valuesAreHtml"),Md=/http(s*):\/\/.*/i,Td=n(e=>!e||Md.test(e),"isUrl"),_i=n(e=>e.every(Td),"valuesAreUrl"),Sd=/http(s*):\/\/.*\.(jpeg|jpg|jfif|pjpeg|pjp|png|svg|gif|webp|apng|bmp|ico|cur|tif|tiff)/i,Ld=n(e=>!e||Sd.test(e),"isImageUrl"),zi=n(e=>e.every(Ld),"valuesAreImageUrl"),Ed=/@{1}/,bd=n(e=>!e||Ed.test(e),"isEmail"),Wi=n(e=>e.every(bd),"valuesAreEmail"),vd=n(e=>Array.isArray(e),"isArray"),Qo=n(e=>e.every(vd),"valuesAreArray"),wd=n(e=>!e||e instanceof Date,"isDate"),_o=n(e=>e.every(wd),"valuesAreDate"),Dd=n(e=>!e||typeof e=="string"&&((0,Ke.isMatch)(e,"MM/dd/yyyy")||(0,Ke.isMatch)(e,"MM/dd/yy")||(0,Ke.isValid)((0,Ke.parseISO)(e))),"isDateString"),zo=n(e=>e.every(Dd),"valuesAreDateString"),dr=n(e=>Object.prototype.toString.call(e)==="[object Object]","isObject"),Wo=n(e=>e.every(dr),"valuesAreObject");var Id=n(()=>Hi.createElement("span",null,";"),"DefaultComponent"),ye={type:Id,representation:()=>"<DefaultComponent />"},Ad={array:ye,boolean:ye,date:ye,email:ye,id:ye,number:ye,reference:ye,referenceArray:ye,richText:ye,string:ye,url:ye},ae=n((e,t)=>typeof t[e]<"u","hasType"),Xn=n((e,t=[],r=Ad)=>{if(e==="id"&&ae("id",r))return new G(r.id,{source:e});if(e.substr(e.length-3)==="_id"&&ae("reference",r)){let o=pr.default.pluralize(e.substr(0,e.length-3));return r.reference&&new G(r.reference,{source:e,reference:o},new G(r.referenceChild))}if(e.substr(e.length-2)==="Id"&&ae("reference",r)){let o=pr.default.pluralize(e.substr(0,e.length-2));return r.reference&&new G(r.reference,{source:e,reference:o},new G(r.referenceChild))}if(e.substr(e.length-4)==="_ids"&&ae("referenceArray",r)){let o=pr.default.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new G(r.referenceArray,{source:e,reference:o},new G(r.referenceArrayChild))}if(e.substr(e.length-3)==="Ids"&&ae("referenceArray",r)){let o=pr.default.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new G(r.referenceArray,{source:e,reference:o},new G(r.referenceArrayChild))}if(t.length===0)return new G(r.string,{source:e});if(Qo(t)){if(dr(t[0][0])&&ae("array",r)){let o=je(t.reduce((a,s)=>a.concat(s),[]));return r.array&&new G(r.array,{source:e},Object.keys(o).map(a=>Xn(a,o[a],r)))}return new G(r.string,{source:e})}if(ko(t)&&ae("boolean",r))return new G(r.boolean,{source:e});if(_o(t)&&ae("date",r))return new G(r.date,{source:e});if(Vo(t))return e==="email"&&ae("email",r)?new G(r.email,{source:e}):e==="url"&&ae("url",r)?new G(r.url,{source:e}):zo(t)&&ae("date",r)?new G(r.date,{source:e}):Go(t)&&ae("richText",r)?new G(r.richText,{source:e}):new G(r.string,{source:e});if((lr(t)||cr(t))&&ae("number",r))return new G(r.number,{source:e});if(Wo(t)){let o=Object.keys(t[0]).shift(),a=t.map(s=>s[o]);return Xn(`${e}.${o}`,a,r)}return new G(r.string,{source:e})},"inferElementFromValues"),Yi=Xn;var Ji=n((e,t)=>{let r=je(e);return Object.keys(r).reduce((o,a)=>o.concat(Yi(a,r[a],t)),[]).filter(o=>o.isDefined())},"default");var mr=L(require("inflection"));var Fd=["array","boolean","date","email","id","image","number","reference","referenceChild","referenceArray","referenceArrayChild","richText","string","url","object"],ea=n((e,t=[])=>{if(e==="id")return{type:"id",props:{source:e}};if(e.substr(e.length-3)==="_id")return{type:"reference",props:{source:e,reference:mr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceChild"}};if(e.substr(e.length-2)==="Id")return{type:"reference",props:{source:e,reference:mr.default.pluralize(e.substr(0,e.length-2))},children:{type:"referenceChild"}};if(e.substr(e.length-4)==="_ids")return{type:"referenceArray",props:{source:e,reference:mr.default.pluralize(e.substr(0,e.length-4))},children:{type:"referenceArrayChild"}};if(e.substr(e.length-3)==="Ids")return{type:"referenceArray",props:{source:e,reference:mr.default.pluralize(e.substr(0,e.length-3))},children:{type:"referenceArrayChild"}};if(t.length===0)return e==="email"?{type:"email",props:{source:e}}:e==="url"?{type:"url",props:{source:e}}:{type:"string",props:{source:e}};if(Qo(t)){if(dr(t[0][0])){let r=je(t.reduce((o,a)=>o.concat(a),[]));return{type:"array",props:{source:e},children:Object.keys(r).map(o=>ea(o,r[o]))}}return{type:"string",props:{source:e}}}if(ko(t))return{type:"boolean",props:{source:e}};if(_o(t))return{type:"date",props:{source:e}};if(Vo(t))return e==="email"||Wi(t)?{type:"email",props:{source:e}}:e==="url"||_i(t)?zi(t)?{type:"image",props:{source:e}}:{type:"url",props:{source:e}}:zo(t)?{type:"date",props:{source:e}}:Go(t)?{type:"richText",props:{source:e}}:lr(t)||cr(t)?{type:"number",props:{source:e}}:{type:"string",props:{source:e}};if(lr(t)||cr(t))return{type:"number",props:{source:e}};if(Wo(t)){let r=Object.keys(t[0]).shift(),o=t.map(a=>a[r]);return ea(`${e}.${r}`,o)}return{type:"string",props:{source:e}}},"inferTypeFromValues");var Xe=require("react"),$i=L(require("lodash/debounce")),Zi=L(require("lodash/isEqual"));var Nd=n(e=>({q:e}),"defaultFilterToQuery"),Bi=n(({filterToQuery:e=Nd,permanentFilter:t={},debounceTime:r=500})=>{let o=(0,Xe.useRef)(t),a=(0,Xe.useRef)(),[s,i]=z(p(p({},t),e(""))),u=JSON.stringify(t);(0,Xe.useEffect)(()=>{(0,Zi.default)(o.current,t)||(o.current=t,i(p(p({},t),e(a.current))))},[u,o,e]);let l=(0,Xe.useCallback)((0,$i.default)(c=>{i(p(p({},t),e(c))),a.current=c},r),[u]);return{filter:s,setFilter:l}},"default");var Ce=require("react");var qi=L(require("lodash/set"));var ht="SET_SORT",se="ASC",fr="DESC",et="SET_PAGE",xt="SET_PER_PAGE",ke="SET_FILTER",Ct="SHOW_FILTER",Mt="HIDE_FILTER",Od=n(e=>e===fr?se:fr,"oppositeOrder"),yr=n((e,t)=>{switch(t.type){case ht:return t.payload.field===e.sort?v(p({},e),{order:Od(e.order),page:1}):v(p({},e),{sort:t.payload.field,order:t.payload.order||se,page:1});case et:return v(p({},e),{page:t.payload});case xt:return v(p({},e),{page:1,perPage:t.payload});case ke:return v(p({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case Ct:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:v(p({},e),{filter:typeof t.payload.defaultValue<"u"?(0,qi.default)(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:v(p({},e.displayedFilters),{[t.payload.filterName]:!0})});case Mt:return v(p({},e),{filter:q(zr(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((r,o)=>o!==t.payload?v(p({},r),{[o]:!0}):r,{}):e.displayedFilters});default:return e}},"queryReducer"),ta=yr;var Ud=n((e,t)=>{switch(t.type){case"SET_SORT":return t.payload;case"SET_SORT_FIELD":{let r=t.payload,o=e.field===r?e.order===se?fr:se:se;return{field:r,order:o}}case"SET_SORT_ORDER":{let r=t.payload;return v(p({},e),{order:r})}default:return e}},"sortReducer"),jd={field:"id",order:"DESC"},kd=n((e=jd)=>{let[t,r]=(0,Ce.useReducer)(Ud,e),o=(0,Ce.useRef)(!0);return(0,Ce.useEffect)(()=>{if(o.current){o.current=!1;return}r({type:"SET_SORT",payload:e})},[e.field,e.order]),{setSort:(0,Ce.useCallback)(a=>r({type:"SET_SORT",payload:a}),[r]),setSortField:(0,Ce.useCallback)(a=>r({type:"SET_SORT_FIELD",payload:a}),[r]),setSortOrder:(0,Ce.useCallback)(a=>r({type:"SET_SORT_ORDER",payload:a}),[r]),sort:t}},"useSortState"),Tt=kd;var we=require("react"),Vd=n((e,t)=>p(p({},e),t),"paginationReducer"),Gd={page:1,perPage:25},St=n((e={})=>{let[t,r]=(0,we.useReducer)(Vd,p(p({},Gd),e)),o=(0,we.useRef)(!0),a=(0,we.useCallback)(i=>r({perPage:i,page:1}),[]),s=(0,we.useCallback)(i=>r({page:i}),[]);return(0,we.useEffect)(()=>{if(o.current){o.current=!1;return}a(e.perPage||25)},[e.perPage,a]),{page:t.page,perPage:t.perPage,pagination:t,setPage:s,setPerPage:a,setPagination:r}},"default");var Qd=L(require("react"));var Ki=n((e,t,r)=>{let o=Object.keys(r),a=t.filter(s=>!o.includes(s));if(a.length>0)throw new Error(`<${e}> component is not properly configured, some essential props are missing.
Be sure to pass the props from the parent. Example:

const My${e} = props => (
    <${e} {...props}></${e}>
);

The missing props are: ${a.join(", ")}`)},"useCheckMinimumRequiredProps");var Xi=require("react");var _d=n(e=>{let{record:t,redirect:r="list",onClick:o,mutationOptions:a}=e,s=_(e),i=k(),u=gr(s),l=le(),[c,{isLoading:d}]=rr(),m=(0,Xi.useCallback)(h=>{h.stopPropagation(),c(s,{id:t.id,previousData:t},p({onSuccess:()=>{i("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:!0}),u([t.id]),l(r,s)},onError:C=>{i(typeof C=="string"?C:C.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof C=="string"?C:C&&C.message?C.message:void 0}})},mutationMode:"undoable"},a)),typeof o=="function"&&o(h)},[c,a,i,o,t,l,r,s,u]);return{isLoading:d,handleDelete:m}},"useDeleteWithUndoController"),eu=_d;var Ho=require("react");var zd=n(e=>{let{record:t,redirect:r,mutationMode:o,onClick:a,mutationOptions:s}=e,i=_(e),[u,l]=(0,Ho.useState)(!1),c=k(),d=gr(i),m=le(),[h,{isLoading:C}]=rr(),S=n(f=>{l(!0),f.stopPropagation()},"handleDialogOpen"),P=n(f=>{l(!1),f.stopPropagation()},"handleDialogClose"),g=(0,Ho.useCallback)(f=>{f.stopPropagation(),h(i,{id:t.id,previousData:t},p({onSuccess:()=>{l(!1),c("ra.notification.deleted",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),d([t.id]),m(r,i)},onError:y=>{l(!1),c(typeof y=="string"?y:y.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof y=="string"?y:y&&y.message?y.message:void 0}})},mutationMode:o},s)),typeof a=="function"&&a(f)},[h,o,s,c,a,t,m,r,i,d]);return{open:u,isLoading:C,handleDialogOpen:S,handleDialogClose:P,handleDelete:g}},"useDeleteWithConfirmController"),tu=zd;var oa=L(require("react"));var uu=require("react"),cu=require("query-string"),lu=require("react-router-dom");var ru=require("react"),Rr=(0,ru.createContext)(void 0);var ou=L(require("react"));var Pr=n(({children:e,value:t})=>ou.createElement(Rr.Provider,{value:t},e),"SaveContextProvider");var nu=require("react"),au=L(require("lodash/pick")),hr=n(e=>(0,nu.useMemo)(()=>(0,au.default)(e,["save","saving","mutationMode","registerMutationMiddleware","unregisterMutationMiddleware"]),[e.save,e.saving,e.mutationMode,e.registerMutationMiddleware,e.unregisterMutationMiddleware]),"usePickSaveContext");var su=require("react");var xr=n(e=>(0,su.useContext)(Rr),"useSaveContext");var Ve=require("react"),Cr=n(()=>{let e=(0,Ve.useRef)([]),t=(0,Ve.useCallback)(s=>{e.current.push(s)},[]),r=(0,Ve.useCallback)(s=>{e.current=e.current.filter(i=>i!==s)},[]),o=(0,Ve.useCallback)(s=>(...i)=>{let u=e.current.length-1,l=n((...c)=>(u--,u>=0?e.current[u](...c,l):s(...c)),"next");return e.current.length>0?e.current[u](...i,l):s(...i)},[]);return(0,Ve.useMemo)(()=>({registerMutationMiddleware:t,getMutateWithMiddlewares:o,unregisterMutationMiddleware:r}),[t,o,r])},"useMutationMiddlewares");var iu=require("react");var Wd=n(e=>{let{registerMutationMiddleware:t,unregisterMutationMiddleware:r}=xr();(0,iu.useEffect)(()=>(t(e),()=>{r(e)}),[e,t,r])},"useRegisterMutationMiddleware");var Mr=n((e={})=>{let{disableAuthentication:t,record:r,redirect:o,transform:a,mutationOptions:s={}}=e;oe({enabled:!t});let i=_(e),{hasEdit:u,hasShow:l}=qn(e),c=o??Hd(l,u),d=(0,lu.useLocation)(),m=Q(),h=k(),C=le(),S=r??du(d)??void 0,A=s,{onSuccess:P,onError:g}=A,f=w(A,["onSuccess","onError"]),{registerMutationMiddleware:y,getMutateWithMiddlewares:M,unregisterMutationMiddleware:x}=Cr(),[R,{isLoading:E}]=Hn(i,void 0,f),T=(0,uu.useCallback)((N,{onSuccess:D,onError:F,transform:j}={})=>Promise.resolve(j?j(N):a?a(N):N).then(J=>{M(R)(i,{data:J},{onSuccess:async(O,U,V)=>{if(D)return D(O,U,V);if(P)return P(O,U,V);h("ra.notification.created",{type:"info",messageArgs:{smart_count:1}}),C(c,i,O.id,O)},onError:F||g||(O=>{h(typeof O=="string"?O:O.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof O=="string"?O:O&&O.message?O.message:void 0}})})})}),[R,c,M,h,g,P,C,i,a]),b=ve(),I=m("ra.page.create",{name:b(i,1)});return{isFetching:!1,isLoading:!1,saving:E,defaultTitle:I,save:T,resource:i,record:S,redirect:c,registerMutationMiddleware:y,unregisterMutationMiddleware:x}},"useCreateController"),du=n(({state:e,search:t})=>{if(e&&e.record)return e.record;if(t)try{let r=(0,cu.parse)(t);if(r.source){if(Array.isArray(r.source)){console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`);return}return JSON.parse(r.source)}}catch{console.error(`Failed to parse location search parameter '${t}'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. '?source={"title":"foo"}')`)}return null},"getRecordFromLocation"),Hd=n((e,t)=>t?"edit":e?"show":"list","getDefaultRedirectRoute");var Yo=L(require("react"));var pu=L(require("react")),mu=require("react"),Tr=(0,mu.createContext)(void 0);Tr.displayName="RecordContext";var ge=n(({children:e,value:t})=>pu.createElement(Tr.Provider,{value:t},e),"RecordContextProvider");var fu=require("react"),Lt=(0,fu.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,redirect:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});Lt.displayName="CreateContext";var ra=n(({children:e,value:t})=>Yo.createElement(Lt.Provider,{value:t},Yo.createElement(Pr,{value:v(p({},hr(t)),{mutationMode:"pessimistic"})},Yo.createElement(ge,{value:t&&t.record},e))),"CreateContextProvider");var Yd=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=Mr(t),s=oa.createElement(ra,{value:a},e);return t.resource?oa.createElement(me,{value:t.resource},s):s},"CreateBase");var Jd=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=Mr(t);return e(a)},"CreateController");var Jo=require("react"),yu=L(require("lodash/defaults"));var $d=n(e=>{let t=(0,Jo.useContext)(Lt);return(0,Jo.useMemo)(()=>(0,yu.default)({},e!=null?Zd(e):{},t),[t,e])},"useCreateContext"),Zd=n(({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:a,resource:s,save:i,saving:u})=>({record:e,defaultTitle:t,isFetching:r,isLoading:o,redirect:a,resource:s,save:i,saving:u}),"extractCreateContextProps");var sa=L(require("react"));var Ru=require("react"),Pu=require("react-router-dom");var Sr=n((e={})=>{let{disableAuthentication:t,id:r,mutationMode:o="undoable",mutationOptions:a={},queryOptions:s={},redirect:i=gu,transform:u}=e;oe({enabled:!t});let l=_(e),c=Q(),d=k(),m=le(),h=Xt(),{id:C}=(0,Pu.useParams)(),S=r??decodeURIComponent(C),V=s,{meta:P}=V,g=w(V,["meta"]),B=a,{onSuccess:f,onError:y,meta:M}=B,x=w(B,["onSuccess","onError","meta"]),{registerMutationMiddleware:R,getMutateWithMiddlewares:E,unregisterMutationMiddleware:T}=Cr(),{data:b,error:I,isLoading:A,isFetching:N,refetch:D}=er(l,{id:S,meta:P},p({onError:()=>{d("ra.notification.item_doesnt_exist",{type:"warning"}),m("list",l),h()},refetchOnReconnect:!1,refetchOnWindowFocus:!1,retry:!1},g));if(b&&b.id&&b.id!=S)throw new Error(`useEditController: Fetched record's id attribute (${b.id}) must match the requested 'id' (${S})`);let F=ve(),j=c("ra.page.edit",{name:F(l,1),id:S,record:b}),J={id:S,previousData:b},[Me,{isLoading:O}]=Yn(l,J,v(p({},x),{mutationMode:o})),U=(0,Ru.useCallback)((H,{onSuccess:X,onError:fn,transform:Nr}={})=>Promise.resolve(Nr?Nr(H,{previousData:J.previousData}):u?u(H,{previousData:J.previousData}):H).then(_c=>E(Me)(l,{id:S,data:_c,meta:M},{onSuccess:async(re,Fa,Na)=>{if(X)return X(re,Fa,Na);if(f)return f(re,Fa,Na);d("ra.notification.updated",{type:"info",messageArgs:{smart_count:1},undoable:o==="undoable"}),m(i,l,re.id,re)},onError:fn||y||(re=>{d(typeof re=="string"?re:re.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof re=="string"?re:re&&re.message?re.message:void 0}})})})),[S,E,o,d,y,f,m,i,l,u,Me,J.previousData]);return{defaultTitle:j,error:I,isFetching:N,isLoading:A,mutationMode:o,record:b,redirect:gu,refetch:D,registerMutationMiddleware:R,resource:l,save:U,saving:O,unregisterMutationMiddleware:T}},"useEditController"),gu="list";var $o=L(require("react"));var hu=require("react");var Re=n(e=>{let t=(0,hu.useContext)(Tr);return e&&e.record||t},"useRecordContext");var Bd=n(({render:e})=>{let t=Re();return t?e(t):null},"WithRecord");var xu=L(require("react"));var na=n(({value:e,children:t})=>e?xu.createElement(ge,{value:e},t):t,"OptionalRecordContextProvider");var Cu=require("react"),Et=(0,Cu.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,mutationMode:null,redirect:null,refetch:null,resource:null,save:null,saving:null,registerMutationMiddleware:null,unregisterMutationMiddleware:null});Et.displayName="EditContext";var aa=n(({children:e,value:t})=>$o.createElement(Et.Provider,{value:t},$o.createElement(Pr,{value:hr(t)},$o.createElement(ge,{value:t&&t.record},e))),"EditContextProvider");var qd=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=Sr(t),s=sa.createElement(aa,{value:a},e);return t.resource?sa.createElement(me,{value:t.resource},s):s},"EditBase");var Kd=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=Sr(t);return e(a)},"EditController");var Zo=require("react"),Mu=L(require("lodash/defaults"));var Xd=n(e=>{let t=(0,Zo.useContext)(Et);return(0,Zo.useMemo)(()=>(0,Mu.default)({},e!=null?ep(e):{},t),[t,e])},"useEditContext"),ep=n(({data:e,record:t,defaultTitle:r,isFetching:o,isLoading:a,mutationMode:s,redirect:i,resource:u,save:l,saving:c})=>({data:t||e,record:t||e,defaultTitle:r,isFetching:o,isLoading:a,mutationMode:s,redirect:i,resource:u,save:l,saving:c}),"extractEditContextProps");var Hu=L(require("lodash/get"));var fa=L(require("react"));var bt=require("react");var Tu=require("react");var Pe=n(e=>{let t=`${e}.selectedIds`,[r,o]=de(t,tp),a=An(t),s=(0,Tu.useMemo)(()=>({select:i=>{!i||o([...i])},unselect(i){!i||i.length===0||o(u=>Array.isArray(u)?u.filter(l=>!i.includes(l)):[])},toggle:i=>{typeof i>"u"||o(u=>{if(!Array.isArray(u))return[...u];let l=u.indexOf(i);return l>-1?[...u.slice(0,l),...u.slice(l+1)]:[...u,i]})},clearSelection:()=>{a()}}),[o,a]);return[r,s]},"useRecordSelection"),tp=[];var Z=require("react"),Bo=require("query-string"),bu=L(require("lodash/debounce")),vu=L(require("lodash/pickBy")),qo=require("react-router-dom");var ua=n(({resource:e,filterDefaultValues:t,sort:r=rp,perPage:o=10,debounce:a=500,disableSyncWithLocation:s=!1})=>{let i=(0,qo.useLocation)(),u=(0,qo.useNavigate)(),[l,c]=(0,Z.useState)(Eu),d=`${e}.listParams`,[m,h]=de(d,Eu),C=(0,Z.useRef)(),S=Dn(),P=[i.search,e,JSON.stringify(s?l:m),JSON.stringify(t),JSON.stringify(r),o,s],g=s?{}:Du(i),f=(0,Z.useMemo)(()=>Au({queryFromLocation:g,params:s?l:m,filterDefaultValues:t,sort:r,perPage:o}),P);(0,Z.useEffect)(()=>{Object.keys(g).length>0&&h(f)},[i.search]);let y=(0,Z.useCallback)(D=>{!S.current||(C.current?C.current=ta(C.current,D):(C.current=ta(f,D),setTimeout(()=>{s?c(C.current):u({search:`?${(0,Bo.stringify)(v(p({},C.current),{filter:JSON.stringify(C.current.filter),displayedFilters:JSON.stringify(C.current.displayedFilters)}))}`},{state:{_scrollToTop:D.type===et}}),C.current=void 0},0)))},P),M=(0,Z.useCallback)(D=>y({type:ht,payload:D}),P),x=(0,Z.useCallback)(D=>y({type:et,payload:D}),P),R=(0,Z.useCallback)(D=>y({type:xt,payload:D}),P),E=f.filter||Lu,T=f.displayedFilters||Lu,b=(0,bu.default)((D,F)=>{y({type:ke,payload:{filter:q(D),displayedFilters:F}})},a),I=(0,Z.useCallback)((D,F,j=!0)=>j?b(D,F):y({type:ke,payload:{filter:q(D),displayedFilters:F}}),P),A=(0,Z.useCallback)(D=>{y({type:Mt,payload:D})},P),N=(0,Z.useCallback)((D,F)=>{y({type:Ct,payload:{filterName:D,defaultValue:F}})},P);return[p({displayedFilters:T,filterValues:E,requestSignature:P},f),{changeParams:y,setPage:x,setPerPage:R,setSort:M,setFilters:I,hideFilter:A,showFilter:N}]},"useListParams"),wu=["page","perPage","sort","order","filter","displayedFilters"],Su=n((e,t)=>{if(e[t]&&typeof e[t]=="string")try{e[t]=JSON.parse(e[t])}catch{delete e[t]}},"parseObject"),Du=n(({search:e})=>{let t=(0,vu.default)((0,Bo.parse)(e),(r,o)=>wu.indexOf(o)!==-1);return Su(t,"filter"),Su(t,"displayedFilters"),t},"parseQueryFromLocation"),Iu=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),Au=n(({queryFromLocation:e,params:t,filterDefaultValues:r,sort:o,perPage:a})=>{let s=Object.keys(e).length>0?e:Iu(t)?p({},t):{filter:r||{}};return s.sort||(s.sort=o.field,s.order=o.order),s.perPage==null&&(s.perPage=a),s.page==null&&(s.page=1),v(p({},s),{page:ia(s.page,1),perPage:ia(s.perPage,10)})},"getQuery"),ia=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),Lu={},rp={field:"id",order:se},Eu={};var Lr=n((e={})=>{let{disableAuthentication:t,exporter:r=Pt,filterDefaultValues:o,sort:a=op,perPage:s=10,filter:i,debounce:u=500,disableSyncWithLocation:l,queryOptions:c={}}=e;oe({enabled:!t});let d=_(e),F=c,{meta:m}=F,h=w(F,["meta"]);if(!d)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(i&&(0,bt.isValidElement)(i))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");let C=Q(),S=k(),[P,g]=ua({resource:d,filterDefaultValues:o,sort:a,perPage:s,debounce:u,disableSyncWithLocation:l}),[f,y]=Pe(d),{data:M,pageInfo:x,total:R,error:E,isLoading:T,isFetching:b,refetch:I}=Ze(d,{pagination:{page:P.page,perPage:P.perPage},sort:{field:P.sort,order:P.order},filter:p(p({},P.filter),i),meta:m},p({keepPreviousData:!0,retry:!1,onError:j=>S((j==null?void 0:j.message)||"ra.notification.http_error",{type:"warning",messageArgs:{_:j==null?void 0:j.message}})},h));(0,bt.useEffect)(()=>{if(P.page<=0||!b&&P.page>1&&M.length===0){g.setPage(1);return}if(R==null)return;let j=Math.ceil(R/P.perPage)||1;!b&&P.page>j&&g.setPage(j)},[b,P.page,P.perPage,M,g,R]);let A=(0,bt.useMemo)(()=>({field:P.sort,order:P.order}),[P.sort,P.order]),N=ve(),D=C("ra.page.list",{name:N(d,2)});return{sort:A,data:M,defaultTitle:D,displayedFilters:P.displayedFilters,error:E,exporter:r,filter:i,filterValues:P.filterValues,hideFilter:g.hideFilter,isFetching:b,isLoading:T,onSelect:y.select,onToggleItem:y.toggle,onUnselectItems:y.clearSelection,page:P.page,perPage:P.perPage,refetch:I,resource:d,selectedIds:f,setFilters:g.setFilters,setPage:g.setPage,setPerPage:g.setPerPage,setSort:g.setSort,showFilter:g.showFilter,total:R,hasNextPage:x?x.hasNextPage:R!=null?P.page*P.perPage<R:void 0,hasPreviousPage:x?x.hasPreviousPage:P.page>1}},"useListController"),op={field:"id",order:se},ca=["sort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hideFilter","isFetching","isLoading","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages"],np=n(e=>ca.reduce((t,r)=>v(p({},t),{[r]:e[r]}),{}),"getListControllerProps"),ap=n(e=>Object.keys(e).filter(t=>!ca.includes(t)).reduce((t,r)=>v(p({},t),{[r]:e[r]}),{}),"sanitizeListRestProps");var Er=L(require("react"));var Fu=require("react"),vt=(0,Fu.createContext)({sort:null,data:null,defaultTitle:null,displayedFilters:null,exporter:null,filterValues:null,hasNextPage:null,hasPreviousPage:null,hideFilter:null,isFetching:null,isLoading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:void 0,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});vt.displayName="ListContext";var Ko=require("react"),Nu=L(require("lodash/pick")),wt=(0,Ko.createContext)({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),la=n(e=>(0,Ko.useMemo)(()=>(0,Nu.default)(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"]),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter]),"usePickFilterContext");wt.displayName="ListFilterContext";var Xo=require("react"),Ou=L(require("lodash/pick")),Dt=(0,Xo.createContext)({sort:null,setSort:null,resource:null}),da=n(e=>(0,Xo.useMemo)(()=>(0,Ou.default)(e,["sort","setSort","resource"]),[e.sort,e.setSort]),"usePickSortContext");Dt.displayName="ListSortContext";var en=require("react"),Uu=L(require("lodash/pick")),It=(0,en.createContext)({isLoading:null,page:null,perPage:null,setPage:null,setPerPage:null,hasPreviousPage:null,hasNextPage:null,total:void 0,resource:null});It.displayName="ListPaginationContext";var pa=n(e=>(0,en.useMemo)(()=>(0,Uu.default)(e,["isLoading","hasPreviousPage","hasNextPage","page","perPage","setPage","setPerPage","total","resource"]),[e.isLoading,e.hasPreviousPage,e.hasNextPage,e.page,e.perPage,e.setPage,e.setPerPage,e.total]),"usePickPaginationContext");var ma=n(({value:e,children:t})=>Er.createElement(vt.Provider,{value:e},Er.createElement(wt.Provider,{value:la(e)},Er.createElement(Dt.Provider,{value:da(e)},Er.createElement(It.Provider,{value:pa(e)},t)))),"ListContextProvider");var sp=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);return fa.createElement(me,{value:t.resource},fa.createElement(ma,{value:Lr(t)},e))},"ListBase");var ip=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=Lr(t);return e(a)},"ListController");var ie=require("react"),At=L(require("lodash/get")),ju=L(require("lodash/isEqual"));var up=n(()=>{throw new Error("refetch is not available for a ListContext built from useList based on local data")},"refetch"),br=n(e=>{let{data:t,error:r,filter:o=cp,isFetching:a=!1,isLoading:s=!1,page:i=1,perPage:u=1e3,sort:l=lp}=e,c=_(e),[d,m]=z(a),[h,C]=z(s),[S,P]=z(()=>({data:t,total:t?t.length:void 0})),{page:g,setPage:f,perPage:y,setPerPage:M}=St({page:i,perPage:u}),{sort:x,setSort:R}=Tt(l),E=(0,ie.useCallback)(O=>{R(O),f(1)},[f,R]),[T,b]=Pe(c),I=(0,ie.useRef)(o),[A,N]=z({}),[D,F]=z(o),j=(0,ie.useCallback)(O=>{N(U=>{let H=U,{[O]:V}=H;return w(H,[Ie(O)])}),F(U=>{let H=U,{[O]:V}=H;return w(H,[Ie(O)])})},[N,F]),J=(0,ie.useCallback)((O,U)=>{N(V=>v(p({},V),{[O]:!0})),F(V=>q(v(p({},V),{[O]:U})))},[N,F]),Me=(0,ie.useCallback)((O,U)=>{F(q(O)),U&&N(U),f(1)},[N,F,f]);return(0,ie.useEffect)(()=>{(0,ju.default)(o,I.current)||(I.current=o,F(o))}),(0,ie.useEffect)(()=>{if(s||!t)return;let O=t.filter(V=>Object.entries(D).every(([B,H])=>{let X=(0,At.default)(V,B);return Array.isArray(X)?Array.isArray(H)?X.some(Nr=>H.includes(Nr)):X.includes(H):Array.isArray(H)?H.includes(X):H==X})),U=O.length;x.field&&(O=O.sort((V,B)=>(0,At.default)(V,x.field)>(0,At.default)(B,x.field)?x.order==="ASC"?1:-1:(0,At.default)(V,x.field)<(0,At.default)(B,x.field)?x.order==="ASC"?-1:1:0)),O=O.slice((g-1)*y,g*y),P({data:O,total:U})},[JSON.stringify(t),D,s,g,y,P,x.field,x.order]),(0,ie.useEffect)(()=>{a!==d&&m(a)},[a,d,m]),(0,ie.useEffect)(()=>{s!==h&&C(s)},[s,h,C]),{sort:x,data:S.data,defaultTitle:"",error:r,displayedFilters:A,filterValues:D,hasNextPage:g*y<S.total,hasPreviousPage:g>1,hideFilter:j,isFetching:d,isLoading:h,onSelect:b.select,onToggleItem:b.toggle,onUnselectItems:b.clearSelection,page:g,perPage:y,resource:void 0,refetch:up,selectedIds:T,setFilters:Me,setPage:f,setPerPage:M,setSort:E,showFilter:J,total:S.total}},"useList"),cp={},lp={field:null,order:null};var tn=require("react"),ku=L(require("lodash/defaults"));var dp=n(e=>{let t=(0,tn.useContext)(vt);return(0,tn.useMemo)(()=>(0,ku.default)({},e!=null?pp(e):{},t),[t,e])},"useListContext"),pp=n(({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:a,filterValues:s,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:d,onToggleItem:m,onUnselectItems:h,page:C,perPage:S,refetch:P,resource:g,selectedIds:f,setFilters:y,setPage:M,setPerPage:x,setSort:R,showFilter:E,total:T})=>({sort:e,data:t,defaultTitle:r,displayedFilters:o,exporter:a,filterValues:s,hasCreate:i,hideFilter:u,isFetching:l,isLoading:c,onSelect:d,onToggleItem:m,onUnselectItems:h,page:C,perPage:S,refetch:P,resource:g,selectedIds:f,setFilters:y,setPage:M,setPerPage:x,setSort:R,showFilter:E,total:T}),"extractListContextProps");var Vu=require("react");var mp=n(e=>{let t=(0,Vu.useContext)(wt);return t.hideFilter?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListFilterContext");var Gu=require("react");var fp=n(e=>{let t=(0,Gu.useContext)(It);return t.setPage?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListPaginationContext");var Qu=require("react");var yp=n(e=>{let t=(0,Qu.useContext)(Dt);return t.setSort?t:(process.env.NODE_ENV!=="production"&&console.log("List components must be used inside a <ListContextProvider>. Relying on props rather than context to get List data and callbacks is deprecated and won't be supported in the next major version of react-admin."),e)},"useListSortContext");var _u=require("react");var gr=n(e=>{let[,{unselect:t}]=Pe(e);return(0,_u.useCallback)(r=>{t(r)},[t])},"useUnselect");var zu=require("react");var gp=n(e=>{let[,{clearSelection:t}]=Pe(e);return(0,zu.useCallback)(()=>{t()},[t])},"useUnselectAll");var Wu=require("react");var Rp=n((e,t,r=!1)=>{let[o,a]=de(`${e}.datagrid.expanded`,[]),s=Array.isArray(o)?o.map(u=>u==t).indexOf(!0)!==-1:!1,i=(0,Wu.useCallback)(()=>{a(u=>{if(!Array.isArray(u))return[t];let l=u.findIndex(c=>c==t);return l>-1?r?[]:[...u.slice(0,l),...u.slice(l+1)]:r?[t]:[...u,t]})},[a,t,r]);return[s,i]},"useExpanded");var Pp=[],hp={},xp={field:null,order:null},Cp=n(e=>{let{filter:t=hp,page:r=1,perPage:o=1e3,record:a,reference:s,sort:i=xp,source:u}=e,l=k(),c=(0,Hu.default)(a,u)||Pp,{data:d,error:m,isLoading:h,isFetching:C,refetch:S}=Be(s,{ids:c},{onError:g=>l(typeof g=="string"?g:g.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof g=="string"?g:g&&g.message?g.message:void 0}})}),P=br({data:d,error:m,filter:t,isFetching:C,isLoading:h,page:r,perPage:o,sort:i});return v(p({},P),{defaultTitle:null,refetch:S,resource:s})},"useReferenceArrayFieldController");var Yu=L(require("lodash/get")),De=require("react"),Ju=L(require("lodash/isEqual"));var Mp={},Tp=n(e=>{let{reference:t,record:r,target:o,filter:a=Mp,source:s,page:i,perPage:u,sort:l={field:"id",order:"DESC"}}=e,c=k(),{page:d,setPage:m,perPage:h,setPerPage:C}=St({page:i,perPage:u}),{sort:S,setSort:P}=Tt(l),g=(0,De.useCallback)(U=>{P(U),m(1)},[m,P]),[f,y]=Pe(t),M=(0,De.useRef)(a),[x,R]=z({}),[E,T]=z(a),b=(0,De.useCallback)(U=>{R(V=>{let X=V,{[U]:B}=X;return w(X,[Ie(U)])}),T(V=>{let X=V,{[U]:B}=X;return w(X,[Ie(U)])})},[R,T]),I=(0,De.useCallback)((U,V)=>{R(B=>v(p({},B),{[U]:!0})),T(B=>v(p({},B),{[U]:V}))},[R,T]),A=(0,De.useCallback)((U,V)=>{T(q(U)),R(V),m(1)},[R,T,m]);(0,De.useEffect)(()=>{(0,Ju.default)(a,M.current)||(M.current=a,T(a))});let{data:N,total:D,pageInfo:F,error:j,isFetching:J,isLoading:Me,refetch:O}=tr(t,{target:o,id:(0,Yu.default)(r,s),pagination:{page:d,perPage:h},sort:S,filter:E},{keepPreviousData:!0,onError:U=>c(typeof U=="string"?U:U.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof U=="string"?U:U&&U.message?U.message:void 0}})});return{sort:S,data:N,defaultTitle:null,displayedFilters:x,error:j,filterValues:E,hideFilter:b,isFetching:J,isLoading:Me,onSelect:y.select,onToggleItem:y.toggle,onUnselectItems:y.clearSelection,page:d,perPage:h,refetch:O,resource:t,selectedIds:f,setFilters:A,setPage:m,setPerPage:C,hasNextPage:F?F.hasNextPage:D!=null?d*h<D:void 0,hasPreviousPage:F?F.hasPreviousPage:d>1,setSort:g,showFilter:I,total:D}},"useReferenceManyFieldController");var $u=L(require("lodash/get"));var Sp=n(e=>{let{reference:t,record:r,target:o,source:a="id"}=e,s=k(),{data:i,error:u,isFetching:l,isLoading:c,refetch:d}=tr(t,{target:o,id:(0,$u.default)(r,a),pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"},filter:{}},{enabled:!!r,onError:m=>s(typeof m=="string"?m:m.message||"ra.notification.http_error",{type:"warning",messageArgs:{_:typeof m=="string"?m:m&&m.message?m.message:void 0}})});return{referenceRecord:i?i[0]:void 0,error:u,isFetching:l,isLoading:c,refetch:d}},"useReferenceOneFieldController");var Zu=n(e=>e&&e.error!==void 0,"isMatchingReferencesError"),Bu=n(({field:e,matchingReferences:t,referenceRecord:r,translate:o=n(a=>a,"translate")})=>{let a=Zu(t)?o(t.error,{_:t.error}):null,s=e.value&&!r?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:e.value&&s&&!t||!e.value&&!t,error:e.value&&s&&a||!e.value&&a?e.value?s:a:null,warning:s||a,choices:Array.isArray(t)?t:[r].filter(i=>i)}},"getStatusForInput"),qu="REFERENCES_STATUS_READY",Lp="REFERENCES_STATUS_INCOMPLETE",ya="REFERENCES_STATUS_EMPTY",ga=n((e,t)=>!e.value||e.value.length===t.length?qu:t.length>0?Lp:ya,"getSelectedReferencesStatus"),Ku=n(({field:e,matchingReferences:t,referenceRecords:r,translate:o=n(a=>a,"translate")})=>{let a=ga(e,r),s=Zu(t)?o(t.error,{_:t.error}):null,i=Array.isArray(t)?r.concat(t.filter(u=>r.findIndex(l=>l.id===u.id)===-1)):r;return{waiting:!t&&e.value&&a===ya||!t&&!e.value,error:s&&(!e.value||e.value&&a===ya)?o("ra.input.references.all_missing",{_:"ra.input.references.all_missing"}):null,warning:s||e.value&&a!==qu?s||o("ra.input.references.many_missing",{_:"ra.input.references.many_missing"}):null,choices:i}},"getStatusForArrayInput");var on=require("react"),rc=require("react-hook-form");var te=require("react"),tc=L(require("lodash/debounce"));var rn=n(({resource:e,filter:t,sort:r=vp,page:o=1,perPage:a=10,debounce:s=500})=>{let[i,u]=(0,te.useState)(wp),l=(0,te.useRef)(),c=[e,JSON.stringify(i),JSON.stringify(t),JSON.stringify(r),o,a],d=(0,te.useMemo)(()=>Ep({params:i,filterDefaultValues:t,sort:r,page:o,perPage:a}),c),m=(0,te.useCallback)(R=>{l.current?l.current=yr(l.current,R):(l.current=yr(d,R),setTimeout(()=>{u(l.current),l.current=void 0},0))},c),h=(0,te.useCallback)(R=>m({type:ht,payload:R}),c),C=(0,te.useCallback)(R=>m({type:et,payload:R}),c),S=(0,te.useCallback)(R=>m({type:xt,payload:R}),c),P=d.filter||ec,g=d.displayedFilters||ec,f=(0,tc.default)((R,E)=>{m({type:ke,payload:{filter:q(R),displayedFilters:E}})},s),y=(0,te.useCallback)((R,E,T=!0)=>{T?f(R,E):m({type:ke,payload:{filter:q(R),displayedFilters:E}})},c),M=(0,te.useCallback)(R=>{m({type:Mt,payload:R})},c),x=(0,te.useCallback)((R,E)=>{m({type:Ct,payload:{filterName:R,defaultValue:E}})},c);return[p({displayedFilters:g,filterValues:P,requestSignature:c},d),{changeParams:m,setPage:C,setPerPage:S,setSort:h,setFilters:y,hideFilter:M,showFilter:x}]},"useReferenceParams");var Ep=n(({params:e,filterDefaultValues:t,sort:r,page:o,perPage:a})=>{let s=bp(e)?p({},e):{filter:t||{}};return s.sort||(s.sort=r.field,s.order=r.order),s.page==null&&(s.page=o),s.perPage==null&&(s.perPage=a),s.page==null&&(s.page=1),v(p({},s),{page:Xu(s.page,1),perPage:Xu(s.perPage,10)})},"getQuery"),bp=n(e=>e&&e.filter&&(Object.keys(e.filter).length>0||e.order!=null||e.page!==1||e.perPage!=null||e.sort!=null),"hasCustomParams"),Xu=n((e,t)=>{let r=typeof e=="string"?parseInt(e,10):e;return isNaN(r)?t:r},"getNumberOrDefault"),ec={},vp={field:"id",order:se},wp={};var Dp=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:a=1,perPage:s=25,sort:i={field:"id",order:"DESC"},queryOptions:u={},reference:l,source:c}=e,d=(0,rc.useWatch)({name:c}),{data:m,error:h,isLoading:C,isFetching:S,refetch:P}=Be(l,{ids:d||Ip},{enabled:d!=null&&d.length>0}),[g,f]=rn({resource:l,page:a,perPage:s,sort:i,debounce:t,filter:o}),y=m?m.filter(Boolean):[],M=r?r(g.filterValues):!0,{data:x,total:R,pageInfo:E,error:T,isLoading:b,isFetching:I,refetch:A}=Ze(l,{pagination:{page:g.page,perPage:g.perPage},sort:{field:g.sort,order:g.order},filter:p(p({},g.filter),o)},p({retry:!1,enabled:M},u)),N=x&&x.length>0?Ap(x,y):y.length>0?y:x,D=(0,on.useCallback)(()=>{P(),A()},[P,A]);return{sort:(0,on.useMemo)(()=>({field:g.sort,order:g.order}),[g.sort,g.order]),allChoices:N,availableChoices:x,selectedChoices:y,displayedFilters:g.displayedFilters,error:h||T,filter:o,filterValues:g.filterValues,hideFilter:f.hideFilter,isFetching:S||I,isLoading:C||b,page:g.page,perPage:g.perPage,refetch:D,resource:l,setFilters:f.setFilters,setPage:f.setPage,setPerPage:f.setPerPage,setSort:f.setSort,showFilter:f.showFilter,source:c,total:R,hasNextPage:E?E.hasNextPage:R!=null?g.page*g.perPage<R:void 0,hasPreviousPage:E?E.hasPreviousPage:g.page>1}},"useReferenceArrayInputController"),Ip=[],Ap=n((e,t)=>{let r=[...e],o=e.map(a=>a.id);return t.forEach(a=>{o.includes(a.id)||(o.push(a.id),r.push(a))}),r},"mergeReferences");var nn=require("react"),oc=require("react-hook-form");var Ra=n(({reference:e,id:t,options:r})=>{let{data:o,error:a,isLoading:s,isFetching:i,refetch:u}=Be(e,{ids:[t]},r);return{referenceRecord:a?void 0:o?o[0]:void 0,refetch:u,error:a,isLoading:s,isFetching:i}},"useReference");var Fp=n(e=>{let{debounce:t,enableGetChoices:r,filter:o,page:a=1,perPage:s=25,sort:i,queryOptions:u={},reference:l,source:c}=e,[d,m]=rn({resource:l,page:a,perPage:s,sort:i,debounce:t,filter:o}),h=(0,oc.useWatch)({name:c}),C=r?r(d.filterValues):!0,{data:S=[],total:P,pageInfo:g,isFetching:f,isLoading:y,error:M,refetch:x}=Ze(l,{pagination:{page:d.page,perPage:d.perPage},sort:{field:d.sort,order:d.order},filter:p(p({},d.filter),o)},p({enabled:C},u)),{referenceRecord:R,refetch:E,error:T,isLoading:b,isFetching:I}=Ra({id:h,reference:l,options:{enabled:h!=null&&h!==""}}),A,N;!R||S.find(j=>j.id===h)?(A=S,N=P):(A=[R,...S],N=P==null?void 0:P+1);let D=(0,nn.useCallback)(()=>{x(),E()},[x,E]);return{sort:(0,nn.useMemo)(()=>({field:d.sort,order:d.order}),[d.sort,d.order]),allChoices:A,availableChoices:S,selectedChoices:[R],displayedFilters:d.displayedFilters,error:T||M,filter:d.filter,filterValues:d.filterValues,hideFilter:m.hideFilter,isFetching:I||f,isLoading:b||y,page:d.page,perPage:d.perPage,refetch:D,resource:l,setFilters:m.setFilters,setPage:m.setPage,setPerPage:m.setPerPage,setSort:m.setSort,showFilter:m.showFilter,source:c,total:N,hasNextPage:g?g.hasNextPage:P!=null?d.page*d.perPage<P:void 0,hasPreviousPage:g?g.hasPreviousPage:d.page>1}},"useReferenceInputController");var xa=L(require("react"));var nc=require("react-router-dom");var vr=n((e={})=>{let{disableAuthentication:t,id:r,queryOptions:o={}}=e;oe({enabled:!t});let a=_(e),s=Q(),i=k(),u=le(),l=Xt(),{id:c}=(0,nc.useParams)(),d=r??decodeURIComponent(c),x=o,{meta:m}=x,h=w(x,["meta"]),{data:C,error:S,isLoading:P,isFetching:g,refetch:f}=er(a,{id:d,meta:m},p({onError:()=>{i("ra.notification.item_doesnt_exist",{type:"warning"}),u("list",a),l()},retry:!1},h));if(C&&C.id&&C.id!=d)throw new Error(`useShowController: Fetched record's id attribute (${C.id}) must match the requested 'id' (${d})`);let y=ve();return{defaultTitle:s("ra.page.show",{name:y(a,1),id:d,record:C}),error:S,isLoading:P,isFetching:g,record:C,refetch:f,resource:a}},"useShowController");var Pa=L(require("react"));var ac=require("react"),Ft=(0,ac.createContext)({record:null,defaultTitle:null,isFetching:null,isLoading:null,refetch:null,resource:null});Ft.displayName="ShowContext";var ha=n(({children:e,value:t})=>Pa.createElement(Ft.Provider,{value:t},Pa.createElement(ge,{value:t&&t.record},e)),"ShowContextProvider");var Np=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=vr(t),s=xa.createElement(ha,{value:a},e);return t.resource?xa.createElement(me,{value:t.resource},s):s},"ShowBase");var Op=n(r=>{var o=r,{children:e}=o,t=w(o,["children"]);let a=vr(t);return e(a)},"ShowController");var an=require("react"),sc=L(require("lodash/defaults"));var Up=n(e=>{let t=(0,an.useContext)(Ft);return(0,an.useMemo)(()=>(0,sc.default)({},e!=null?jp(e):{},t),[t,e])},"useShowContext"),jp=n(({record:e,data:t,defaultTitle:r,isFetching:o,isLoading:a,resource:s})=>({record:e||t,data:e||t,defaultTitle:r,isFetching:o,isLoading:a,resource:s}),"extractShowContextProps");var ic=L(require("react")),uc=require("react-hook-form"),cc=L(require("lodash/get"));var kp=n(e=>{let t=(0,uc.useWatch)();return ic.createElement(Vp,p({formData:t},e))},"FormDataConsumer"),Vp=n(e=>{let m=e,{children:t,form:r,formData:o,source:a,index:s}=m,i=w(m,["children","form","formData","source","index"]),u=o,l,c=!1,d;return typeof s<"u"?(u=(0,cc.default)(o,a),l=n(h=>(c=!0,`${a}.${h}`),"getSource"),d=t(p({formData:o,scopedFormData:u,getSource:l},i))):d=t(p({formData:o},i)),ut(typeof s<"u"&&d&&!c,`You're using a FormDataConsumer inside an ArrayInput and you did not call the getSource function supplied by the FormDataConsumer component. This is required for your inputs to get the proper source.

<ArrayInput source="users">
    <SimpleFormIterator>
        <TextInput source="name" />

        <FormDataConsumer>
            {({
                formData, // The whole form data
                scopedFormData, // The data for this item of the ArrayInput
                getSource, // A function to get the valid source inside an ArrayInput
                ...rest,
            }) =>
                scopedFormData.name ? (
                    <SelectInput
                        source={getSource('role')} // Will translate to "users[0].role"
                        choices={[{id: 1, name: 'Admin'}, {id: 2, name: 'User'},
                        {...rest}
                    />
                ) : null
            }
        </FormDataConsumer>
    </SimpleFormIterator>
</ArrayInput>`),d===void 0?null:d},"FormDataConsumerView"),lc=kp;var dc=require("react"),Nt=(0,dc.createContext)(void 0);var Ot=L(require("react"));var Gp=n(e=>{let{error:t}=e,r=Q();if(t.message){let{message:o,args:a}=t;return Ot.createElement(Ot.Fragment,null,r(o,p({_:o},a)))}return Ot.createElement(Ot.Fragment,null,r(t,{_:t}))},"ValidationError"),pc=Gp;var wr=L(require("lodash")),mc=n((e,t=[])=>wr.default.isObject(e)?wr.default.reduce(e,(r,o,a)=>e[a].message!=null&&e[a].args!=null?wr.default.merge(r,{[a]:e[a]}):wr.default.merge(r,mc(o,[...t,a])),{}):{[t.join(".")]:e},"flattenErrors"),sn=n(e=>async t=>{let r=await e(t);if(!r||Object.getOwnPropertyNames(r).length===0)return{values:t,errors:{}};let o=mc(r);return{values:{},errors:Object.keys(o).reduce((a,s)=>v(p({},a),{[s]:{type:"manual",message:o[s]}}),{})}},"getSimpleValidationResolver");var fc=require("react"),Dr=(0,fc.createContext)(void 0);var yc=L(require("react"));var Qp=n(({children:e,value:t})=>yc.createElement(Dr.Provider,{value:t},e),"ChoicesContextProvider");var un=require("react");var _p=n((e={})=>{let t=(0,un.useContext)(Dr),s=br({data:e.choices}),{data:r}=s,o=w(s,["data"]);return(0,un.useMemo)(()=>({allChoices:(t==null?void 0:t.allChoices)??r,availableChoices:(t==null?void 0:t.availableChoices)??e.availableChoices??r,selectedChoices:(t==null?void 0:t.selectedChoices)??e.selectedChoices??r,displayedFilters:(t==null?void 0:t.displayedFilters)??e.displayedFilters??o.displayedFilters,error:(t==null?void 0:t.error)??e.error??o.error,filter:(t==null?void 0:t.filter)??e.filter??o.filter,filterValues:(t==null?void 0:t.filterValues)??e.filterValues??o.filterValues,hasNextPage:(t==null?void 0:t.hasNextPage)??e.hasNextPage??o.hasNextPage,hasPreviousPage:(t==null?void 0:t.hasPreviousPage)??e.hasPreviousPage??o.hasPreviousPage,hideFilter:(t==null?void 0:t.hideFilter)??e.hideFilter??o.hideFilter,isFetching:(t==null?void 0:t.isFetching)??e.isFetching??o.isFetching,isLoading:(t==null?void 0:t.isLoading)??e.isLoading??o.isLoading,page:(t==null?void 0:t.page)??e.page??o.page,perPage:(t==null?void 0:t.perPage)??e.perPage??o.perPage,refetch:(t==null?void 0:t.refetch)??e.refetch??o.refetch,resource:(t==null?void 0:t.resource)??e.resource??o.resource,setFilters:(t==null?void 0:t.setFilters)??e.setFilters??o.setFilters,setPage:(t==null?void 0:t.setPage)??e.setPage??o.setPage,setPerPage:(t==null?void 0:t.setPerPage)??e.setPerPage??o.setPerPage,setSort:(t==null?void 0:t.setSort)??e.setSort??o.setSort,showFilter:(t==null?void 0:t.showFilter)??e.showFilter??o.showFilter,sort:(t==null?void 0:t.sort)??e.sort??o.sort,source:(t==null?void 0:t.source)??e.source,total:(t==null?void 0:t.total)??e.total??o.total}),[t,r,o,e])},"useChoicesContext");var Vt=L(require("react")),Cc=require("react-hook-form");var gc=L(require("react")),Ir=require("react");var Ca=n(({children:e})=>{let t=(0,Ir.useRef)({}),r=(0,Ir.useRef)({}),o=(0,Ir.useMemo)(()=>({subscribe:(a,s)=>(r.current[a]||(r.current[a]=[]),r.current[a].push(s),()=>{r.current[a]=r.current[a].filter(i=>i!==s)}),getGroupFields:a=>t.current[a]||[],registerGroup:a=>{t.current[a]=t.current[a]||[]},unregisterGroup:a=>{delete t[a]},registerField:(a,s)=>{s!=null&&((t.current[s]||[]).includes(a)||(t.current[s]=[...t.current[s]||[],a],r.current[s]&&r.current[s].forEach(i=>i())))},unregisterField:(a,s)=>{if(s!=null)if(!t.current[s])console.warn(`Invalid form group ${s}`);else{let i=new Set(t.current[s]);i.delete(a),t.current[s]=Array.from(i),r.current[s]&&r.current[s].forEach(u=>u())}}}),[]);return gc.createElement(Nt.Provider,{value:o},e)},"FormGroupsProvider");var Ge=require("react"),xc=require("react-hook-form");var Rc=L(require("lodash/merge"));function Ut(e,t){return(0,Rc.default)({},zp(e,t),t)}n(Ut,"getFormInitialValues");function zp(e,t){return typeof e=="object"?e:typeof e=="function"?e(t):{}}n(zp,"getValues");var Ma=n((e,t)=>{let r=n((a,s)=>{a.forEach((i,u)=>{if(typeof i=="object"){o(i,`${s}.${u}.`);return}if(Array.isArray(i)){r(i,`${s}.${u}.`);return}t(`${s}.${u}`,{type:"server",message:i.toString()})})},"setErrorFromArray"),o=n((a,s)=>{Object.entries(a).forEach(([i,u])=>{if(typeof u=="object"){o(u,`${s}${i}.`);return}if(Array.isArray(u)){r(u,`${s}${i}.`);return}t(`${s}${i}`,{type:"server",message:u.toString()})})},"setErrorFromObject");o(e,"")},"setSubmissionErrors");var jt=require("react"),Pc=require("react-hook-form"),Ta=n(e=>{let[t,r]=(0,jt.useState)(!1),{isValid:o,submitCount:a,errors:s}=(0,Pc.useFormState)(e?{control:e}:void 0),i=(0,jt.useRef)(a);return(0,jt.useEffect)(()=>{a>i.current&&(i.current=a,Object.keys(s).length>0&&!o?r(!0):r(!1))},[s,o,a]),t},"useIsFormInvalid");var kt=require("react"),hc=require("react-hook-form"),cn=require("react-router-dom");var Sa=n((e,t,r)=>{let o=(0,kt.useContext)(cn.UNSAFE_NavigationContext).navigator,a=(0,cn.useLocation)(),s=Q(),{isSubmitSuccessful:i,isSubmitting:u,dirtyFields:l}=(0,hc.useFormState)(r?{control:r}:void 0),c=Object.keys(l).length>0,d=(0,kt.useRef)(t||a.pathname);(0,kt.useEffect)(()=>{if(!e||!c)return;let m=o.block(h=>{let C=h.location.pathname.startsWith(d.current);!u&&(C||i||window.confirm(s("ra.message.unsaved_changes")))&&(m(),h.retry())});return m},[e,a,o,c,u,i,s])},"useWarnWhenUnsavedChanges");var La=n(e=>{let{context:t,criteriaMode:r="firstError",defaultValues:o,delayError:a,formRootPathname:s,mode:i,resolver:u,reValidateMode:l="onChange",onSubmit:c,shouldFocusError:d,shouldUnregister:m,shouldUseNativeValidation:h,warnWhenUnsavedChanges:C,validate:S}=e,P=Re(e),g=xr(),f=(0,Ge.useMemo)(()=>Ut(o,P),[JSON.stringify({defaultValues:o,record:P})]),y=u||(S?sn(S):void 0),M=(0,xc.useForm)({context:t,criteriaMode:r,defaultValues:f,delayError:a,mode:i,reValidateMode:l,resolver:y,shouldFocusError:d,shouldUnregister:m,shouldUseNativeValidation:h});(0,Ge.useEffect)(()=>{if(!P)return;let b=Ut(o,P);M.reset(b)},[M.reset,JSON.stringify(P,o)]);let x=Ta(M.control),R=k();(0,Ge.useEffect)(()=>{x&&R("ra.message.invalid_form",{type:"warning"})},[x,R]),Sa(C,s,M.control);let E=(0,Ge.useCallback)(async b=>{let I;c&&(I=await c(b)),c==null&&(g==null?void 0:g.save)&&(I=await g.save(b)),I!=null&&Ma(I,M.setError)},[M,c,g]),T=(0,Ge.useCallback)(b=>{b.defaultPrevented||(b.stopPropagation(),M.handleSubmit(E)(b))},[M,E]);return{form:M,handleSubmit:E,formHandleSubmit:T,isInvalid:x}},"useAugmentedForm");var Wp=n(e=>{let{children:t,id:r,className:o,noValidate:a=!1}=e,s=Re(e),i=_(e),{form:u,formHandleSubmit:l}=La(e);return Vt.createElement(na,{value:s},Vt.createElement(In,{prefix:`resources.${i}.fields`},Vt.createElement(Cc.FormProvider,p({},u),Vt.createElement(Ca,null,Vt.createElement("form",{onSubmit:l,noValidate:a,id:r,className:o},t)))))},"Form");var Ea=L(require("lodash/memoize")),Hp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Qe=n(e=>typeof e>"u"||e===null||e===""||Array.isArray(e)&&e.length===0,"isEmpty");function Yp(e){return e.hasOwnProperty("message")}n(Yp,"isValidationErrorMessageWithArgs");var _e=n((e,t,r,o)=>typeof e=="function"?e({args:t,value:r,values:o}):t?{message:e,args:t}:e,"getMessage"),ze=n(e=>(0,Ea.default)(e,(...t)=>JSON.stringify(t)),"memoize"),Mc=n(e=>typeof e=="function","isFunction"),Tc=n((e,t)=>(r,o,a)=>{let s=e(r,o,a);return s?typeof s=="string"||Yp(s)?s:s.then(i=>i||t(r,o,a)):t(r,o,a)},"combine2Validators"),ba=n((...e)=>(Array.isArray(e[0])?e[0]:e).filter(Mc).reduce(Tc,()=>null),"composeValidators"),Jp=n((...e)=>(t,r,o)=>{let a=(Array.isArray(e[0])?e[0]:e).filter(Mc);for(let s of a){let i=s(t,r,o);if(i)return i}},"composeSyncValidators"),$p=ze((e="ra.validation.required")=>Object.assign((t,r)=>Qe(t)?_e(e,void 0,t,r):void 0,{isRequired:!0})),Zp=ze((e,t="ra.validation.minLength")=>(r,o)=>!Qe(r)&&r.length<e?_e(t,{min:e},r,o):void 0),Bp=ze((e,t="ra.validation.maxLength")=>(r,o)=>!Qe(r)&&r.length>e?_e(t,{max:e},r,o):void 0),qp=ze((e,t="ra.validation.minValue")=>(r,o)=>!Qe(r)&&r<e?_e(t,{min:e},r,o):void 0),Kp=ze((e,t="ra.validation.maxValue")=>(r,o)=>!Qe(r)&&r>e?_e(t,{max:e},r,o):void 0),Xp=ze((e="ra.validation.number")=>(t,r)=>!Qe(t)&&isNaN(Number(t))?_e(e,void 0,t,r):void 0),Sc=(0,Ea.default)((e,t="ra.validation.regex")=>(r,o)=>!Qe(r)&&typeof r=="string"&&!e.test(r)?_e(t,{pattern:e},r,o):void 0,(e,t)=>e.toString()+t),em=ze((e="ra.validation.email")=>Sc(Hp,e)),tm=n(({args:e})=>({message:"ra.validation.oneOf",args:e}),"oneOfTypeMessage"),rm=ze((e,t=tm)=>(r,o)=>!Qe(r)&&e.indexOf(r)===-1?_e(t,{list:e},r,o):void 0),om=n(e=>e&&e.isRequired?!0:Array.isArray(e)?!!e.find(t=>t.isRequired):!1,"isRequired");var Lc=require("react"),Ar=(0,Lc.createContext)(void 0);var bc=L(require("react")),vc=require("react");var Ec=require("react");var Gt=n(()=>(0,Ec.useContext)(Nt),"useFormGroups");var nm=n(({children:e,name:t})=>{let r=Gt();return(0,vc.useEffect)(()=>{if(!r||!r.registerGroup||!r.unregisterGroup){console.warn("The FormGroupContextProvider can only be used inside a FormContext such as provided by the SimpleForm and TabbedForm components");return}return r.registerGroup(t),()=>{r.unregisterGroup(t)}},[r,t]),bc.createElement(Ar.Provider,{value:t},e)},"FormGroupContextProvider");var wc=require("react"),Dc=require("react-hook-form"),ln=L(require("lodash/get"));var va=n(e=>{let{defaultValue:t,source:r}=e,o=Re(e),{getValues:a,resetField:s}=(0,Dc.useFormContext)(),i=(0,ln.default)(o,r),u=(0,ln.default)(a(),r);(0,wc.useEffect)(()=>{if(t!=null&&u==null&&i==null){if(r.split(".").some(c=>am.test(c))){let c=r.split(".").slice(0,-1).join(".");if((0,ln.default)(a(),c)==null)return}s(r,{defaultValue:t})}})},"useApplyInputDefaultValues"),am=/^\d+$/;var Ic=L(require("react")),tt=require("react"),dn=L(require("lodash/get"));var wa=n(({optionText:e="name",optionValue:t="id",disableValue:r="disabled",translateChoice:o=!0})=>{let a=Q(),s=(0,tt.useCallback)(l=>{if((0,tt.isValidElement)(e))return Ic.createElement(ge,{value:l},e);let c=typeof e=="function"?e(l):(0,dn.default)(l,e);return(0,tt.isValidElement)(c)?c:o?a(String(c),{_:c}):String(c)},[e,a,o]),i=(0,tt.useCallback)(l=>(0,dn.default)(l,t),[t]),u=(0,tt.useCallback)(l=>(0,dn.default)(l,r),[r]);return{getChoiceText:s,getChoiceValue:i,getDisableValue:u}},"useChoices");var rt=require("react"),Fr=L(require("lodash/get")),Ac=L(require("lodash/isEqual")),Fc=require("react-hook-form");var sm=n(e=>{let{dirtyFields:t,touchedFields:r,errors:o}=(0,Fc.useFormState)(),a=Gt(),[s,i]=(0,rt.useState)({errors:void 0,isDirty:!1,isTouched:!1,isValid:!0}),u=(0,rt.useCallback)(()=>{let c=a.getGroupFields(e).map(m=>({name:m,error:(0,Fr.default)(o,m,void 0),isDirty:(0,Fr.default)(t,m,!1),isValid:(0,Fr.default)(o,m,void 0)==null,isTouched:(0,Fr.default)(r,m,!1)})).filter(m=>m!=null),d=Nc(c);i(m=>(0,Ac.default)(m,d)?m:d)},[t,o,r,a,e]);return(0,rt.useEffect)(()=>{u()},[JSON.stringify({dirtyFields:t,errors:o,touchedFields:r}),u]),(0,rt.useEffect)(()=>a.subscribe(e,()=>{u()}),[a,e,u]),s},"useFormGroup"),Nc=n(e=>e.reduce((t,r)=>{let o=t.errors||{};return r.error&&(o[r.name]=r.error),{isDirty:t.isDirty||r.isDirty,errors:o,isTouched:t.isTouched||r.isTouched,isValid:t.isValid&&r.isValid}},{isDirty:!1,errors:void 0,isValid:!0,isTouched:!1}),"getFormGroupState");var Oc=require("react");var Da=n(()=>(0,Oc.useContext)(Ar),"useFormGroupContext");var Ia=n(()=>{let e=Q();return t=>{if(t.message!=null){let{message:r,args:o}=t;return e(r,p({_:r},o))}return e(t,{_:t})}},"useGetValidationErrorMessage");var Uc=require("react"),jc=require("react-hook-form");var im=n((e,t)=>{let{reset:r}=(0,jc.useFormContext)();(0,Uc.useEffect)(()=>{if(!t)return;let o=Ut(e,t);r(o)},[r,JSON.stringify(t,e)])},"useInitializeFormWithRecord");var Vc=require("react"),pn=require("react-hook-form"),Gc=L(require("lodash/get"));var um=n(e=>e&&e.isRequired?!0:Array.isArray(e)?e.some(t=>t.isRequired):!1,"isRequired"),kc=um;var cm=n(e=>{let T=e,{defaultValue:t,format:r,id:o,isRequired:a,name:s,onBlur:i,onChange:u,parse:l,source:c,validate:d}=T,m=w(T,["defaultValue","format","id","isRequired","name","onBlur","onChange","parse","source","validate"]),h=s||c,C=Da(),S=Gt(),P=Re(),g=Ia(),f=(0,pn.useFormContext)();(0,Vc.useEffect)(()=>{if(!(!S||C==null))return S.registerField(c,C),()=>{S.unregisterField(c,C)}},[S,C,c]);let y=Array.isArray(d)?ba(d):d,{field:M,fieldState:x,formState:R}=(0,pn.useController)(p({name:h,defaultValue:(0,Gc.default)(P,c,t),rules:{validate:async b=>{if(!y)return!0;let I=await y(b,f.getValues(),e);return I?g(I):!0}}},m));va(e);let E=v(p({},M),{value:r?r(M.value):M.value,onBlur:(...b)=>{i&&i(...b),M.onBlur()},onChange:(...b)=>{var A,N,D,F;u&&u(...b);let I=e.type==="checkbox"&&((N=(A=b[0])==null?void 0:A.target)==null?void 0:N.value)==="on"?b[0].target.checked:((F=(D=b[0])==null?void 0:D.target)==null?void 0:F.value)??b[0];M.onChange(l?l(I):I)}});return{id:o||c,field:E,fieldState:x,formState:R,isRequired:a||kc(d)}},"useInput");var mn=require("react"),Aa=L(require("lodash/set"));var lm=n(({allowCreate:e,choices:t,createText:r="ra.action.create",createValue:o="@@create",emptyText:a="",emptyValue:s=null,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:d,suggestionLimit:m=0,translateChoice:h})=>{let C=Q(),{getChoiceText:S,getChoiceValue:P}=wa({optionText:l,optionValue:c,translateChoice:h}),g=(0,mn.useCallback)(Qc({allowCreate:e,choices:t,createText:r,createValue:o,emptyText:C(a,{_:a}),emptyValue:s,getChoiceText:S,getChoiceValue:P,limitChoicesToValue:i,matchSuggestion:u,optionText:l,optionValue:c,selectedItem:d,suggestionLimit:m}),[e,t,r,o,a,s,S,P,i,u,l,c,d,m,C]);return{getChoiceText:S,getChoiceValue:P,getSuggestions:g}},"useSuggestions"),dm=n(e=>e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):"","escapeRegExp"),pm=n(e=>(t,r,o=!1)=>{let a=e(r),s=(0,mn.isValidElement)(a),i=dm(t);return s?!1:a&&!!a.match(new RegExp(o?`^${i}$`:i,"i"))},"defaultMatchSuggestion"),Qc=n(({allowCreate:e=!1,choices:t=[],createText:r="ra.action.create",createValue:o="@@create",emptyText:a="",emptyValue:s=null,optionText:i="name",optionValue:u="id",getChoiceText:l,getChoiceValue:c,limitChoicesToValue:d=!1,matchSuggestion:m=pm(l),selectedItem:h,suggestionLimit:C=0})=>S=>{let P=[];h&&!Array.isArray(h)&&m(S,h)?d?P=t.filter(y=>c(y)===c(h)):P=[...t]:P=t.filter(y=>m(S,y)||h!=null&&(Array.isArray(h)?h.some(M=>c(y)===c(M)):c(y)===c(h))),P=mm(P,C);let g=P.some(y=>m(S,y,!0));if(e){let y=!!h&&!Array.isArray(h)?m(S,h,!0):!1;!g&&!y&&P.push(fm({optionText:i,optionValue:u,text:r,value:o}))}return P.filter((y,M)=>P.indexOf(y)===M)},"getSuggestionsFactory"),mm=n((e,t=0)=>Number.isInteger(t)&&t>0?e.slice(0,t):e,"limitSuggestions"),fm=n(({optionText:e="name",optionValue:t="id",text:r="",value:o=null})=>{let a={};return(0,Aa.default)(a,t,o),typeof e=="string"&&(0,Aa.default)(a,e,r),a},"getSuggestion");var ym="I18N_TRANSLATE",gm="I18N_CHANGE_LOCALE";0&&(module.exports={AUTH_CHECK,AUTH_ERROR,AUTH_GET_PERMISSIONS,AUTH_LOGIN,AUTH_LOGOUT,AdminRouter,AuthContext,Authenticated,BasenameContextProvider,CREATE,ChoicesContext,ChoicesContextProvider,ComponentPropType,CoreAdmin,CoreAdminContext,CoreAdminRoutes,CoreAdminUI,CreateBase,CreateContext,CreateContextProvider,CreateController,CustomRoutes,DEFAULT_LOCALE,DELETE,DELETE_MANY,DataProviderContext,EditBase,EditContext,EditContextProvider,EditController,ExporterContext,FieldTitle,Form,FormDataConsumer,FormGroupContext,FormGroupContextProvider,FormGroupsContext,FormGroupsProvider,GET_LIST,GET_MANY,GET_MANY_REFERENCE,GET_ONE,HIDE_FILTER,HttpError,I18N_CHANGE_LOCALE,I18N_TRANSLATE,I18nContext,I18nContextProvider,InferenceTypes,InferredElement,LabelPrefixContext,LabelPrefixContextProvider,ListBase,ListContext,ListContextProvider,ListController,ListFilterContext,ListPaginationContext,ListSortContext,NotificationContext,NotificationContextProvider,OptionalRecordContextProvider,Ready,RecordContext,RecordContextProvider,Resource,ResourceContext,ResourceContextProvider,ResourceDefinitionContext,ResourceDefinitionContextProvider,SET_FILTER,SET_PAGE,SET_PER_PAGE,SET_SORT,SHOW_FILTER,SORT_ASC,SORT_DESC,SaveContext,SaveContextProvider,ShowBase,ShowContext,ShowContextProvider,ShowController,StoreContext,StoreContextProvider,StoreSetter,TestTranslationProvider,TranslatableContext,TranslatableContextProvider,UPDATE,UPDATE_MANY,ValidationError,WithPermissions,WithRecord,choices,combine2Validators,combineDataProviders,composeSyncValidators,composeValidators,convertLegacyAuthProvider,convertLegacyDataProvider,defaultDataProvider,defaultExporter,downloadCSV,email,escapePath,fetchActionsWithArrayOfIdentifiedRecordsResponse,fetchActionsWithArrayOfRecordsResponse,fetchActionsWithRecordResponse,fetchActionsWithTotalResponse,fetchRelatedRecords,fetchUtils,getElementsFromRecords,getFieldLabelTranslationArgs,getFormGroupState,getListControllerProps,getMutationMode,getNumberOrDefault,getQuery,getRecordFromLocation,getSelectedReferencesStatus,getSimpleValidationResolver,getStatusForArrayInput,getStatusForInput,getStorage,getSuggestionsFactory,getValuesFromRecords,hasCustomParams,inferTypeFromValues,injectedProps,isRequired,linkToRecord,localStorageStore,maxLength,maxValue,memoryStore,mergeRefs,mergeTranslations,minLength,minValue,number,parseQueryFromLocation,queryReducer,regex,removeDoubleSlashes,removeEmpty,removeKey,required,resolveBrowserLocale,resolveRedirectTo,sanitizeFetchType,sanitizeListRestProps,setSubmissionErrors,shallowEqual,testDataProvider,undoableEventEmitter,useApplyInputDefaultValues,useAugmentedForm,useAuthProvider,useAuthState,useAuthenticated,useBasename,useCheckAuth,useCheckMinimumRequiredProps,useChoices,useChoicesContext,useCreate,useCreateContext,useCreateController,useCreatePath,useDataProvider,useDeepCompareEffect,useDelete,useDeleteMany,useDeleteWithConfirmController,useDeleteWithUndoController,useEditContext,useEditController,useEventCallback,useExpanded,useFilterState,useFormGroup,useFormGroupContext,useGetIdentity,useGetList,useGetMany,useGetManyAggregate,useGetManyReference,useGetOne,useGetPermissions,useGetResourceLabel,useGetValidationErrorMessage,useI18nProvider,useInitializeFormWithRecord,useInput,useIsDataLoaded,useIsFormInvalid,useIsMounted,useLabelPrefix,useList,useListContext,useListController,useListFilterContext,useListPaginationContext,useListParams,useListSortContext,useLoading,useLocale,useLocaleState,useLocales,useLogin,useLogout,useLogoutIfAccessDenied,useMutationMiddlewares,useNotificationContext,useNotify,usePaginationState,usePermissions,usePermissionsOptimized,usePickFilterContext,usePickPaginationContext,usePickSaveContext,usePickSortContext,usePrevious,useRecordContext,useRecordSelection,useRedirect,useReference,useReferenceArrayFieldController,useReferenceArrayInputController,useReferenceInputController,useReferenceManyFieldController,useReferenceOneFieldController,useRefresh,useRegisterMutationMiddleware,useRemoveFromStore,useResetStore,useResourceContext,useResourceDefinition,useResourceDefinitionContext,useResourceDefinitions,useSafeSetState,useSaveContext,useScrollToTop,useSetLocale,useShowContext,useShowController,useSortState,useStore,useStoreContext,useSuggestions,useTimeout,useTranslatable,useTranslatableContext,useTranslate,useTranslateLabel,useUnselect,useUnselectAll,useUpdate,useUpdateMany,useWarnWhenUnsavedChanges,useWhyDidYouUpdate,validQueryParams,warning});
//# sourceMappingURL=index.js.map